{
	"info": {
		"_postman_id": "1977e9ba-0118-4b44-9991-15e7379ad89f",
		"name": "CDR Banking Sector Conformance Tests",
		"description": "# CDR Conformance Tests\n\nThis collection contains a series of conformance tests for the Consumer Data Right standards applicable to the designation for the Banking sector in Australia.\n\nThese tests do not constitute a full functional test of an implementation compliant with CDR standards. It is the obligation of data holders and data recipients to functionally test their implementations fully using whatever mechanism they choose.\n\nThese tests do contain comprehensive coverage of the requirements of the standards. A data holder implementation that is able to pass all of the tests in this collection could be reasonably described as conformant to the CDR standards for the Banking sector.\n\n# Conformance Scope\n\nThis collection complies with v1.29.1 of the CDR standards.\n\nIt includes support for the following API end points:\n\n### Banking APIs\n\n- Get Accounts\n    \n- Get Bulk Balances\n    \n- Get Balances For Specific Accounts\n    \n- Get Account Balance\n    \n- Get Account Details\n    \n- Get Transactions For Account\n    \n- Get Transaction Detail\n    \n- Get Direct Debits For Accounts\n    \n- Get Bulk Direct Debits\n    \n- Get Direct Debits For Specific Accounts\n    \n- Get Scheduled Payments For Accounts\n    \n- Get Scheduled Payments Bulk\n    \n- Get Scheduled Payments For Specific Accounts\n    \n- Get Payees\n    \n- Get Payee Details\n    \n- Get Products\n    \n- Get Product Detail\n    \n\n# Scope Exclusions\n\nThis collections does not cover:\n\n- CDR API end points not listed above\n    \n- Negative scenarios that are not specifically addressed in the standards for individual end points\n    \n- Non-functional requirements\n    \n- Information Security Profile and associated end points\n    \n- MA-SSL configuration\n    \n\n# Change Log\n\n| Change Date | Change Description |\n| --- | --- |\n| 1st November 2019 | Initial creation of the collection |\n| 1st August 2021 | Updated documentation |\n| 1st Jun 2022 | Extracted Common API and created separate collection |\n| 3rd Jul 2024 | Enhanced test, validating query parameters |\n\n# Contact Support:\n\n{\n\nName : Consumer Data Standards\n\nEmail : [cdr-data61@csiro.au](https://mailto:cdr-data61@csiro.au)\n\n}",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "8286723",
		"_collection_link": "https://winter-shadow-541400.postman.co/workspace/Team-Workspace~e0002a4d-afd2-4ef8-88ba-aed01b17beab/collection/8286723-1977e9ba-0118-4b44-9991-15e7379ad89f?action=share&source=collection_link&creator=8286723"
	},
	"item": [
		{
			"name": "Basic Schema Tests",
			"item": [
				{
					"name": "banking",
					"item": [
						{
							"name": "accounts",
							"item": [
								{
									"name": "direct-debits",
									"item": [
										{
											"name": "Get Bulk Direct Debits - First Page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        // HTTP Response and headers\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });\r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"// First page is always 1\r",
															"pm.variables.set(\"currentPage\", 1);\r",
															"// if a page size is specified use it, otherwise default\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkDirectDebits\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "1",
														"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
													},
													{
														"key": "x-min-v",
														"value": "1",
														"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}",
														"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}",
														"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1",
														"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}",
														"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/direct-debits?open-status={{openStatus}}&page={{currentPage}}&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"direct-debits"
													],
													"query": [
														{
															"key": "open-status",
															"value": "{{openStatus}}",
															"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
														},
														{
															"key": "is-owned",
															"value": "{{isOwned}}",
															"description": "Filters accounts based on whether they are owned by the authorised customer.  True for owned accounts, false for unowned accounts and absent for all accounts",
															"disabled": true
														},
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														},
														{
															"key": "product-category",
															"value": "{{productCategory}}",
															"disabled": true
														}
													]
												},
												"description": "Obtain direct debit authorisations for multiple, filtered accounts"
											},
											"response": []
										},
										{
											"name": "Get Bulk Direct Debits - No params",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        // HTTP Response and headers\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"// First page is always 1\r",
															"pm.variables.set(\"currentPage\", 1);\r",
															"// if a page size is specified use it, otherwise default\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkDirectDebits\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "1",
														"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
													},
													{
														"key": "x-min-v",
														"value": "1",
														"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}",
														"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}",
														"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1",
														"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}",
														"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/direct-debits",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"direct-debits"
													]
												},
												"description": "Obtain direct debit authorisations for multiple, filtered accounts"
											},
											"response": []
										},
										{
											"name": "Get Bulk Direct Debits - Other Pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // This will set the next request depending on if there are any pages left to be processed\r",
															"        const pageArray = pm.variables.get(\"pageArray\");\r",
															"        if (pageArray && pageArray.length > 0){\r",
															"            postman.setNextRequest(\"Get Bulk Direct Debits - Other pages\");\r",
															"            } else {\r",
															"                postman.setNextRequest(\"Get Direct Debits For Specific Accounts - First Page\");       \r",
															"            }\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															"  \r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });\r",
															"\r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var pageSize = pm.variables.get(\"pageSizeBulkDirectDebits\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var totalPages = pm.variables.get(\"totalDirectDebitPages\");\r",
															"var pageArray = pm.variables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    pageArray = [];\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"pm.variables.set(\"pageArray\", pageArray);\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "1",
														"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
													},
													{
														"key": "x-min-v",
														"value": "1",
														"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}",
														"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}",
														"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1",
														"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}",
														"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
													},
													{
														"key": "Content-Type",
														"value": "application/json",
														"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/direct-debits?product-category={{productCategory}}&open-status={{openStatus}}&is-owned={{isOwned}}&page={{currentPage}}&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"direct-debits"
													],
													"query": [
														{
															"key": "product-category",
															"value": "{{productCategory}}",
															"description": "Used to filter results on the productCategory field applicable to accounts. Any one of the valid values for this field can be supplied. If absent then all accounts returned."
														},
														{
															"key": "open-status",
															"value": "{{openStatus}}",
															"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
														},
														{
															"key": "is-owned",
															"value": "{{isOwned}}",
															"description": "Filters accounts based on whether they are owned by the authorised customer.  True for owned accounts, false for unowned accounts and absent for all accounts"
														},
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Direct Debits For Specific Accounts - First Page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															" \r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() { \r",
															"            const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });\r",
															"\r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkDirectDebits\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"data\": {\r\n        \"accountIds\": [\r\n            \"{{bankingAccountId1}}\",\r\n            \"{{bankingAccountId2}}\"\r\n        ]\r\n    },\r\n    \"meta\": {}\r\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/direct-debits?page=1&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"direct-debits"
													],
													"query": [
														{
															"key": "page",
															"value": "1"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Direct Debits For Specific Accounts - Other Pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // This will set the next request depending on if there are any pages left to be processed\r",
															"        const pageArray = pm.variables.get(\"pageArray\");\r",
															"        if (pageArray && pageArray.length > 0){\r",
															"            postman.setNextRequest(\"Get Direct Debits For Specific Accounts - Other Pages\");\r",
															"            } else {\r",
															"                postman.setNextRequest(\"Get Bulk Balances - First page\");       \r",
															"        }\r",
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															"  \r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });\r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkDirectDebits\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var totalPages = pm.variables.get(\"totalDirectDebitPages\");\r",
															"var pageArray = pm.variables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    pageArray = [];\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"pm.variables.set(\"pageArray\", pageArray);\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"data\": {\r\n        \"accountIds\": [\r\n            \"{{bankingAccountId1}}\",\r\n            \"{{bankingAccountId2}}\"\r\n        ]\r\n    },\r\n    \"meta\": {}\r\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/direct-debits?page={{currentPage}}&page-size=1",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"direct-debits"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}"
														},
														{
															"key": "page-size",
															"value": "1"
														}
													]
												}
											},
											"response": []
										}
									]
								},
								{
									"name": "balances",
									"item": [
										{
											"name": "Get Bulk Balances - First page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"        // Parse the response body",
															"        var jsonData;",
															"        try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
															"        });",
															"",
															"        // Schema payload check",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
															"            const valid = ajv.validate(\"ResponseBankingAccountsBalanceList\", jsonData)",
															"            if (!valid){",
															"            ajv.errors.forEach(element => {",
															"                console.log(JSON.stringify(element));",
															"                });",
															"            };",
															"            pm.expect(valid).to.be.true; ",
															"        });        ",
															"",
															"",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkBalances\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "3"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/balances?page=1&page-size={{pageSize}}&open-status={{openStatus}}&product-category={{productCategory}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"balances"
													],
													"query": [
														{
															"key": "page",
															"value": "1"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}"
														},
														{
															"key": "open-status",
															"value": "{{openStatus}}"
														},
														{
															"key": "product-category",
															"value": "{{productCategory}}"
														}
													]
												},
												"description": "Obtain balances for multiple, filtered accounts"
											},
											"response": []
										},
										{
											"name": "Get Bulk Balances - No params",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"        // Parse the response body",
															"        var jsonData;",
															"        try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
															"        });",
															"",
															"        // Schema payload check",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
															"            const valid = ajv.validate(\"ResponseBankingAccountsBalanceList\", jsonData)",
															"            if (!valid){",
															"            ajv.errors.forEach(element => {",
															"                console.log(JSON.stringify(element));",
															"                });",
															"            };",
															"            pm.expect(valid).to.be.true; ",
															"        });        ",
															"",
															"",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkBalances\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "3"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/balances",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"balances"
													]
												},
												"description": "Obtain balances for multiple, filtered accounts"
											},
											"response": []
										},
										{
											"name": "Get Bulk Balances - Other pages",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var pageSize = pm.variables.get(\"pageSizeBulkBalances\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"\r",
															"var totalPages = pm.variables.get(\"totalBulkBalancePages\");\r",
															"var pageArray = pm.collectionVariables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    pageArray = [];\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"pm.collectionVariables.set(\"pageArray\", pageArray);\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"        // Parse the response body",
															"        var jsonData;",
															"        try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
															"        });",
															"",
															"        // Schema payload check",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
															"            const valid = ajv.validate(\"ResponseBankingAccountsBalanceList\", jsonData)",
															"            if (!valid){",
															"            ajv.errors.forEach(element => {",
															"                console.log(JSON.stringify(element));",
															"                });",
															"            };",
															"            pm.expect(valid).to.be.true; ",
															"        });        ",
															"",
															"",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "3"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/balances?page={{currentPage}}&page-size=1&open-status={{openStatus}}&product-category={{productCategory}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"balances"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}"
														},
														{
															"key": "page-size",
															"value": "1"
														},
														{
															"key": "open-status",
															"value": "{{openStatus}}"
														},
														{
															"key": "product-category",
															"value": "{{productCategory}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Balances For Specific Accounts - First page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"",
															"    // Parse the response body",
															"    var jsonData;",
															"    try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"",
															"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
															"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
															"    });",
															"",
															"",
															"",
															"// Schema payload check",
															"((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
															"    const valid = ajv.validate(\"ResponseBankingAccountsBalanceList\", jsonData)",
															"    if (!valid){",
															"    ajv.errors.forEach(element => {",
															"        console.log(JSON.stringify(element));",
															"        });",
															"    };",
															"    pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
															"});   ",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkBalances\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"data\": {\n        \"accountIds\": [\n            \"{{bankingAccountId1}}\",\n            \"{{bankingAccountId2}}\"\n        ]\n    },\n    \"meta\": {}\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/balances?page=1&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"balances"
													],
													"query": [
														{
															"key": "page",
															"value": "1",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}"
														}
													]
												},
												"description": "Obtain balances for a specified list of accounts"
											},
											"response": []
										},
										{
											"name": "Get Balances For Specific Accounts - Other pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"",
															"                // This will set the next request depending on if there are any pages left to be processed",
															"                const pageArray = pm.variables.get(\"pageArray\");",
															"                if (pageArray && pageArray.length > 0){",
															"                    postman.setNextRequest(\"Get Balances For Specific Accounts - Other pages\");",
															"                    }",
															"                    // else {",
															"                    //     postman.setNextRequest(\"Get Balances For Specific Accounts - Invalid account ID\");       ",
															"                    // }",
															"                // Parse the response body",
															"                var jsonData;",
															"                try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"                pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
															"                    pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
															"                });",
															"                // Schema payload check",
															"                ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
															"                    const valid = ajv.validate(\"ResponseBankingAccountsBalanceList\", jsonData)",
															"                    if (!valid){",
															"                    ajv.errors.forEach(element => {",
															"                        console.log(JSON.stringify(element));",
															"                        });",
															"                    };",
															"                    pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
															"                });   ",
															"        ",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var pageSize = pm.variables.get(\"pageSizeBulkBalances\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"\r",
															"var totalPages = pm.variables.get(\"totalBulkBalancePages\");\r",
															"var pageArray = pm.collectionVariables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"pm.collectionVariables.set(\"pageArray\", pageArray);\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"data\": {\n        \"accountIds\": [\n            \"{{bankingAccountId1}}\",\n            \"{{bankingAccountId2}}\"\n        ]\n    },\n    \"meta\": {}\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/balances?page={{currentPage}}&page-size=1",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"balances"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "1",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get Account Balance",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"        if (pm.variables.get(\"testAccountId1\") != \"\")",
															"        {",
															"                // Parse the response body",
															"                try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"                pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
															"                    pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
															"                });",
															"",
															"                // Schema payload check",
															"                ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
															"                    const valid = ajv.validate(\"ResponseBankingAccountsBalanceById\", jsonData)",
															"                    if (!valid){",
															"                    ajv.errors.forEach(element => {",
															"                        console.log(JSON.stringify(element));",
															"                        });",
															"                    };",
															"                    pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true; ",
															"                });  ",
															"             ",
															"        }",
															"",
															"",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"protocolProfileBehavior": {
												"disableBodyPruning": true
											},
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": ""
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/balance",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														":accountId",
														"balance"
													],
													"variable": [
														{
															"key": "accountId",
															"value": "{{bankingAccountId1}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "{account Id}",
									"item": [
										{
											"name": "transactions",
											"item": [
												{
													"name": "Get Transactions For Account - First page",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"// Parse the response body",
																	"var jsonData;",
																	"try { jsonData = pm.response.json(); } catch(e) {}",
																	"",
																	"",
																	"if (pm.response.code < 500) {",
																	"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
																	"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
																	"    });",
																	"}",
																	"",
																	"",
																	"console.log(\"BAd request state is: \" + pm.collectionVariables.get(\"badRequest\"))",
																	"//Schema payload check",
																	"if (pm.response.code === 200 && pm.collectionVariables.get(\"badRequest\") == false) {",
																	"    var cnt = 0;",
																	"    // check for newest and oldest time",
																	"    var oldestTime;",
																	"    var newestTime;",
																	"",
																	"    oldestTime = new Date(pm.request.url.query.get(\"oldest-time\")).getTime();",
																	"    newestTime = new Date(pm.request.url.query.get(\"newest-time\")).getTime();",
																	"    minAmount = pm.request.url.query.get(\"min-amount\");",
																	"    maxAmount = pm.request.url.query.get(\"max-amount\");",
																	"    isOwned = pm.request.url.query.get(\"is-owned\");",
																	"",
																	"",
																	"    if ((pm.request.url.query.get(\"oldest-time\") !== undefined && isNaN(oldestTime)) ",
																	"     || (pm.request.url.query.get(\"newest-time\") !== undefined && isNaN(newestTime))",
																	"     || (pm.request.url.query.get(\"max-amount\") !== undefined && isNaN(maxAmount))",
																	"     || (pm.request.url.query.get(\"min-amount\") !== undefined && isNaN(minAmount))",
																	"     || (pm.request.url.query.get(\"is-owned\") !== undefined && (isOwned !== 'true' && isOwned !== 'false'))",
																	"     ) {",
																	"        // no need to do other tests as this should return an error",
																	"        console.log(\"No further test as this should return error\");",
																	"    } else {",
																	"        if (pm.response.code === 200) {",
																	"            jsonData.data.transactions.forEach(tr => {",
																	"                var refDate = undefined;",
																	"                if (tr.postingDateTime != null) {",
																	"                    refDate = new Date(tr.postingDateTime).getTime();",
																	"                } else if (tr.executionDateTime != null){",
																	"                    refDate = new Date(tr.executionDateTime).getTime();",
																	"                } else if (tr.valueDateTime != null){",
																	"                    refDate = new Date(tr.valueDateTime).getTime();",
																	"                }",
																	"",
																	"",
																	"                if (pm.request.url.query.get(\"newest-time\") !== undefined)",
																	"                    newestTime = new Date(pm.request.url.query.get(\"newest-time\")).getTime();",
																	"                if (pm.request.url.query.get(\"oldest-time\") !== undefined)",
																	"                    oldestTime = new Date(pm.request.url.query.get(\"oldest-time\")).getTime();",
																	"                // check against the newest-time query parameter",
																	"                if (refDate !== undefined) {",
																	"                    if (isNaN(oldestTime) === false) {",
																	"                        var msg = \"transaction date: \" +  new Date(refDate) + \" is after oldest-time: \" + pm.request.url.query.get(\"oldest-time\");",
																	"                        pm.test('Transaction date is at or after oldest-time: trx ' + cnt, function() {",
																	"                            pm.expect(refDate, msg).to.be.above(oldestTime);",
																	"                        });",
																	"                    }",
																	"                    if (isNaN(newestTime) === false) {",
																	"                        var msg = \"transaction date: \" +  new Date(refDate) + \" is after newest-time: \" + pm.request.url.query.get(\"newest-time\");",
																	"                        pm.test('Transaction date is at or before newest-time: trx ' + cnt, function() {",
																	"                            pm.expect(refDate, msg).to.be.below(newestTime);",
																	"                        });",
																	"                    }",
																	"                }          ",
																	"                cnt++;        ",
																	"            });",
																	"            // Schema payload check",
																	"            pm.test('Response payload conforms to standards schema', function() {",
																	"                const valid = ajv.validate(\"ResponseBankingTransactionList\", jsonData);",
																	"                if (!valid){",
																	"                    ajv.errors.forEach(element => {",
																	"                        console.log(JSON.stringify(element));",
																	"                    });",
																	"                }",
																	"                pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
																	"            });",
																	"        } ",
																	"    }",
																	"}",
																	""
																],
																"type": "text/javascript",
																"packages": {}
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"pm.variables.set(\"currentPage\", 1);\r",
																	"var pageSize = pm.variables.get(\"pageSizeAccountTransactions\");\r",
																	"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
																	"    pm.variables.set(\"pageSize\", pageSize);\r",
																	"}\r",
																	"\r",
																	"var moment = require(\"moment\")\r",
																	"\r",
																	"// newest time defaults to today\r",
																	"if (pm.collectionVariables.get(\"newestTime\") == null) {\r",
																	"    pm.collectionVariables.set(\"newestTime\", moment().format((\"YYYY-MM-DDTHH:mm:ss.sssss\")));\r",
																	"}\r",
																	"\r",
																	"// oldest time defaults to 90 days ago \r",
																	"if (pm.collectionVariables.get(\"oldestTime\") == null)\r",
																	"    pm.collectionVariables.set(\"oldestTime\", moment().subtract(90, \"days\").format((\"YYYY-MM-DDTHH:mm:ss.sssss\")));\r",
																	""
																],
																"type": "text/javascript",
																"packages": {}
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-min-v",
																"value": "1"
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "{{x-fapi-interaction-id}}"
															},
															{
																"key": "x-fapi-auth-date",
																"value": "{{x-fapi-auth-date}}"
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "127.0.0.1"
															},
															{
																"key": "x-cds-client-headers",
																"value": "{{cdsClientHeader}}"
															},
															{
																"key": "Content-Type",
																"value": "application/json"
															},
															{
																"key": "x-v",
																"value": "10",
																"type": "text"
															}
														],
														"url": {
															"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/transactions?page=1&page-size={{pageSize}}&newest-time={{newestTime}}&oldest-time={{oldestTime}}&min-amount={{minAmount}}&max-amount={{maxAmount}}&is-owned={{isOwned}}",
															"host": [
																"{{authenticatedResourceUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																":accountId",
																"transactions"
															],
															"query": [
																{
																	"key": "page",
																	"value": "1",
																	"description": "Page of results to request (standard pagination)"
																},
																{
																	"key": "page-size",
																	"value": "{{pageSize}}",
																	"description": "Page size to request. Default is 25 (standard pagination)"
																},
																{
																	"key": "newest-time",
																	"value": "{{newestTime}}"
																},
																{
																	"key": "oldest-time",
																	"value": "{{oldestTime}}"
																},
																{
																	"key": "min-amount",
																	"value": "{{minAmount}}"
																},
																{
																	"key": "max-amount",
																	"value": "{{maxAmount}}"
																},
																{
																	"key": "is-owned",
																	"value": "{{isOwned}}"
																}
															],
															"variable": [
																{
																	"key": "accountId",
																	"value": "{{bankingAccountId1}}"
																}
															]
														},
														"description": "Obtain transactions for a specific account.\n\nSome general notes that apply to all end points that retrieve transactions:\n\n- Where multiple transactions are returned, transactions should be ordered according to effective date in descending order\n- As the date and time for a transaction can alter depending on status and transaction type two separate date/times are included in the payload. There are still some scenarios where neither of these time stamps is available. For the purpose of filtering and ordering it is expected that the data holder will use the “effective” date/time which will be defined as:\n\t\t- Posted date/time if available, then\n\t\t- Execution date/time if available, then\n\t\t- A reasonable date/time nominated by the data holder using internal data structures\n- For transaction amounts it should be assumed that a negative value indicates a reduction of the available balance on the account while a positive value indicates an increase in the available balance on the account"
													},
													"response": []
												},
												{
													"name": "Get Transactions For Account - Other pages",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"",
																	"// Parse the response body",
																	"var jsonData;",
																	"try { jsonData = pm.response.json(); } catch(e) {}",
																	"",
																	"if (pm.response.code < 500) {",
																	"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
																	"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
																	"    });",
																	"}",
																	"",
																	"// Schema payload check",
																	"if (pm.response.code == 200) {",
																	"    var cnt = 0;",
																	"    // check for newest and oldest time",
																	"    var oldestTime;",
																	"    var newestTime;",
																	"",
																	"    oldestTime = new Date(pm.request.url.query.get(\"oldest-time\")).getTime()",
																	"    newestTime = new Date(pm.request.url.query.get(\"newest-time\")).getTime()",
																	"    minAmount = pm.request.url.query.get(\"min-amount\")",
																	"    maxAmount = pm.request.url.query.get(\"max-amount\")",
																	"    ",
																	"    if ((pm.request.url.query.get(\"oldest-time\") != undefined && isNaN(oldestTime)) ",
																	"     || (pm.request.url.query.get(\"newest-time\") != undefined && isNaN(newestTime))",
																	"     || (pm.request.url.query.get(\"max-amount\") != undefined && isNaN(maxAmount))",
																	"     || (pm.request.url.query.get(\"min-amount\") != undefined && isNaN(minAmount))",
																	"     ) {",
																	"        // no need to do other tests as this should return an error",
																	"        console.log(\"No further test as this should return error\");",
																	"    } else",
																	"    {",
																	"        jsonData.data.transactions.forEach(tr => {",
																	"            var refDate = undefined;",
																	"            if (tr.postingDateTime != null) {",
																	"                refDate = new Date(tr.postingDateTime).getTime();",
																	"            } else if (tr.executionDateTime != null){",
																	"                refDate = new Date(tr.executionDateTime).getTime();",
																	"            } else if (tr.valueDateTime != null){",
																	"                refDate = new Date(tr.valueDateTime).getTime();",
																	"            }",
																	"",
																	"",
																	"            if (pm.request.url.query.get(\"newest-time\") != undefined)",
																	"                newestTime = new Date(pm.request.url.query.get(\"newest-time\")).getTime()",
																	"            if (pm.request.url.query.get(\"oldest-time\") != undefined)",
																	"                oldestTime = new Date(pm.request.url.query.get(\"oldest-time\")).getTime()",
																	"            // check against the newest-time query parameter",
																	"            if (refDate != undefined) {",
																	"                if (isNaN(oldestTime) == false) {",
																	"                    var msg = \"transaction date: \" +  new Date(refDate) + \" is after oldest-time: \" + pm.request.url.query.get(\"oldest-time\");",
																	"                    pm.test('Transaction date is at or after oldest-time: trx ' + cnt, function() {",
																	"                        pm.expect(refDate, msg).to.be.above(oldestTime)",
																	"                    })",
																	"                }",
																	"                if (isNaN(newestTime) == false) {",
																	"                    var msg = \"transaction date: \" +  new Date(refDate) + \" is after newest-time: \" + pm.request.url.query.get(\"newest-time\");",
																	"                    pm.test('Transaction date is at or before newest-time: trx ' + cnt, function() {",
																	"                        pm.expect(refDate, msg).to.be.below(newestTime)",
																	"                    })",
																	"                }",
																	"            }          ",
																	"            cnt++;        ",
																	"        })",
																	"        // Schema payload check",
																	"        pm.test('Response payload conforms to standards schema', function() {",
																	"            const valid = ajv.validate(\"ResponseBankingTransactionList\", jsonData)",
																	"            if (!valid){",
																	"            ajv.errors.forEach(element => {",
																	"                console.log(JSON.stringify(element));",
																	"                });",
																	"            };",
																	"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
																	"        }); ",
																	"    }",
																	"}",
																	"",
																	""
																],
																"type": "text/javascript",
																"packages": {}
															}
														},
														{
															"listen": "prerequest",
															"script": {
																"exec": [
																	"\r",
																	"var pageSize = pm.variables.get(\"pageSizeAccountTransactions\");\r",
																	"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
																	"    pm.variables.set(\"pageSize\", pageSize);\r",
																	"}\r",
																	"var totalPages = pm.variables.get(\"totalTransactionsPages\");\r",
																	"var pageArray = pm.variables.get(\"pageArray\");\r",
																	"\r",
																	"if(!pageArray || pageArray.length == 0) {\r",
																	"    for(var i = 1; i <= totalPages; i++)\r",
																	"        pageArray.push(i);\r",
																	"}\r",
																	"\r",
																	"\r",
																	"let currentPage = pageArray.shift();\r",
																	"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
																	"    pm.variables.set(\"currentPage\", currentPage);\r",
																	"}\r",
																	"pm.variables.set(\"pageArray\", pageArray);"
																],
																"type": "text/javascript",
																"packages": {}
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-v",
																"value": "1"
															},
															{
																"key": "x-min-v",
																"value": "1"
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "{{x-fapi-interaction-id}}"
															},
															{
																"key": "x-fapi-auth-date",
																"value": "{{x-fapi-auth-date}}"
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "127.0.0.1"
															},
															{
																"key": "x-cds-client-headers",
																"value": "{{cdsClientHeader}}"
															},
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"url": {
															"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/transactions?page={{currentPage}}&page-size=1&oldest-time={{oldestTime}}&newest-time={{newestTime}}&min-amount=100&max-amount=-25.25",
															"host": [
																"{{authenticatedResourceUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																":accountId",
																"transactions"
															],
															"query": [
																{
																	"key": "page",
																	"value": "{{currentPage}}"
																},
																{
																	"key": "page-size",
																	"value": "1"
																},
																{
																	"key": "oldest-time",
																	"value": "{{oldestTime}}"
																},
																{
																	"key": "newest-time",
																	"value": "{{newestTime}}"
																},
																{
																	"key": "min-amount",
																	"value": "100"
																},
																{
																	"key": "max-amount",
																	"value": "-25.25"
																}
															],
															"variable": [
																{
																	"key": "accountId",
																	"value": "{{bankingAccountId1}}",
																	"description": "ID of the account to get transactions for.  Must have previously been returned by one of the account list end points."
																}
															]
														},
														"description": "Obtain transactions for a specific account.\n\nSome general notes that apply to all end points that retrieve transactions:\n\n- Where multiple transactions are returned, transactions should be ordered according to effective date in descending order\n- As the date and time for a transaction can alter depending on status and transaction type two separate date/times are included in the payload. There are still some scenarios where neither of these time stamps is available. For the purpose of filtering and ordering it is expected that the data holder will use the “effective” date/time which will be defined as:\n\t\t- Posted date/time if available, then\n\t\t- Execution date/time if available, then\n\t\t- A reasonable date/time nominated by the data holder using internal data structures\n- For transaction amounts it should be assumed that a negative value indicates a reduction of the available balance on the account while a positive value indicates an increase in the available balance on the account"
													},
													"response": []
												},
												{
													"name": "Get Transaction Detail",
													"event": [
														{
															"listen": "test",
															"script": {
																"exec": [
																	"if (pm.response.code < 500) {",
																	"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
																	"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
																	"    });",
																	"}",
																	"",
																	"// Schema payload check",
																	"if (pm.response.code === 200) {",
																	"    if (pm.variables.get(\"bankingTransactionId1\") != \"\" || pm.variables.get(\"bankingAccountId2\") != \"\") {",
																	"        // Parse the response body",
																	"        try { jsonData = pm.response.json(); } catch (e) { }",
																	"",
																	"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
																	"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
																	"        });",
																	"",
																	"        // Schema payload check",
																	"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function () {",
																	"            const valid = ajv.validate(\"ResponseBankingTransactionById\", jsonData)",
																	"            if (!valid) {",
																	"                ajv.errors.forEach(element => {",
																	"                    console.log(JSON.stringify(element));",
																	"                });",
																	"            };",
																	"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
																	"        });",
																	"    }",
																	"}",
																	"",
																	"",
																	"",
																	"",
																	"",
																	"",
																	""
																],
																"type": "text/javascript",
																"packages": {}
															}
														}
													],
													"request": {
														"method": "GET",
														"header": [
															{
																"key": "x-v",
																"value": "1"
															},
															{
																"key": "x-min-v",
																"value": "1"
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "{{x-fapi-interaction-id}}"
															},
															{
																"key": "x-fapi-auth-date",
																"value": "{{x-fapi-auth-date}}"
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "127.0.0.1"
															},
															{
																"key": "x-cds-client-headers",
																"value": "{{cdsClientHeader}}"
															},
															{
																"key": "Content-Type",
																"value": "application/json"
															}
														],
														"url": {
															"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/transactions/:transactionId",
															"host": [
																"{{authenticatedResourceUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																":accountId",
																"transactions",
																":transactionId"
															],
															"variable": [
																{
																	"key": "accountId",
																	"value": "{{bankingAccountId1}}"
																},
																{
																	"key": "transactionId",
																	"value": "{{bankingTransactionId1}}"
																}
															]
														},
														"description": "Obtain detailed information on a transaction for a specific account"
													},
													"response": [
														{
															"name": "Success",
															"originalRequest": {
																"method": "GET",
																"header": [
																	{
																		"key": "x-v",
																		"value": "1",
																		"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)",
																		"type": "text"
																	},
																	{
																		"key": "x-fapi-interaction-id",
																		"value": "{{transactionId}}",
																		"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable.",
																		"type": "text"
																	},
																	{
																		"key": "x-fapi-auth-date",
																		"value": "{{timeTenMinutesAgo}}",
																		"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction.",
																		"type": "text"
																	},
																	{
																		"key": "x-fapi-customer-ip-address",
																		"value": "127.0.0.1",
																		"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls.",
																		"type": "text"
																	},
																	{
																		"key": "x-cds-User-Agent",
																		"value": "aGVhZGVyOiB0ZXN0",
																		"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls.",
																		"type": "text"
																	},
																	{
																		"key": "x-cds-subject",
																		"value": "{{cdsSubject}}",
																		"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls.",
																		"type": "text"
																	},
																	{
																		"key": "Content-Type",
																		"value": "application/json",
																		"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls.",
																		"type": "text"
																	}
																],
																"url": {
																	"raw": "{{baseUrl}}/banking/accounts/:accountId/transactions/:transactionId",
																	"host": [
																		"{{baseUrl}}"
																	],
																	"path": [
																		"banking",
																		"accounts",
																		":accountId",
																		"transactions",
																		":transactionId"
																	],
																	"variable": [
																		{
																			"key": "accountId",
																			"value": "{{testAccountId}}"
																		},
																		{
																			"key": "transactionId",
																			"value": "{{testTransactionId}}"
																		}
																	]
																}
															},
															"status": "OK",
															"code": 200,
															"_postman_previewlanguage": "json",
															"header": [
																{
																	"key": "x-v",
																	"value": "1",
																	"description": "The [version](#response-headers) of the API end point that the data holder has responded with."
																},
																{
																	"key": "x-fapi-interaction-id",
																	"value": "{{x-fapi-interaction-id}}",
																	"description": "An RFC4122 UID used as a correlation id. The data holder must set the response header x-fapi-interaction-id to the value received from the corresponding fapi client request header or to a new RFC4122 UUID value if the request header was not provided to track the interaction."
																},
																{
																	"key": "Content-Type",
																	"value": "application/json"
																}
															],
															"cookie": [],
															"body": "{\n\t\"data\": {\n        \"accountId\": \"{{testAccountId}}\",\n        \"transactionId\": \"{{testTransactionId}}\",\n        \"isDetailAvailable\": true,\n        \"type\": \"OTHER\",\n        \"status\": \"POSTED\",\n        \"description\": \"string\",\n        \"postingDateTime\": \"2019-11-01T14:52:00.000Z\",\n        \"executionDateTime\": \"2019-10-29T12:51:00.000Z\",\n        \"amount\": \"-46.86\",\n        \"currency\": \"AUD\",\n        \"reference\": \"lorem ipsum\",\n        \"billerCode\": \"123456\",\n        \"billerName\": \"Fake Biller Co\",\n        \"crn\": \"17237769\",\n        \"apcaNumber\": \"123456\",\n\t\t\"extendedData\": {\n\t\t\t\"service\": \"X2P1.01\",\n\t\t\t\"payee\": \"payee@payee.com\",\n\t\t\t\"extensionUType\": \"x2p101Payload\",\n\t\t\t\"x2p101Payload\": {\n\t\t\t\t\"extendedDescription\": \"Description of payment\",\n\t\t\t\t\"endToEndId\": \"1234567890\"\n\t\t\t}\n\t\t}\n\t},\n\t\"links\": {\n\t    \"self\": \"https://data.holder.com.au/cds-au/v1/banking/accounts/{{testAccountId}}/transactions/{{testTransactionId}}\"\n\t},\n\t\"meta\": {}\n}"
														}
													]
												}
											],
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												},
												{
													"listen": "test",
													"script": {
														"type": "text/javascript",
														"exec": [
															""
														]
													}
												}
											]
										},
										{
											"name": "Get Direct Debits For Account - First page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"\r",
															"                // Parse the response body\r",
															"    var jsonData;\r",
															"    try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"    });\r",
															"\r",
															"    // Schema payload check\r",
															"    ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"        const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"        if (!valid){\r",
															"        ajv.errors.forEach(element => {\r",
															"            console.log(JSON.stringify(element));\r",
															"            });\r",
															"        };\r",
															"        pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true; \r",
															"    });  \r",
															"           \r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeAccounts\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/direct-debits?page=1&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														":accountId",
														"direct-debits"
													],
													"query": [
														{
															"key": "page",
															"value": "1",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													],
													"variable": [
														{
															"key": "accountId",
															"value": "{{bankingAccountId1}}",
															"description": "ID of the account to get direct debit authorisations for.  Must have previously been returned by one of the account list end points."
														}
													]
												},
												"description": "Obtain direct debit authorisations for a specific account"
											},
											"response": [
												{
													"name": "Success",
													"originalRequest": {
														"method": "GET",
														"header": [
															{
																"key": "x-v",
																"value": "<string>",
																"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
															},
															{
																"key": "x-min-v",
																"value": "<string>",
																"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "<string>",
																"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
															},
															{
																"key": "x-fapi-auth-date",
																"value": "<string>",
																"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "<string>",
																"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
															},
															{
																"key": "x-cds-User-Agent",
																"value": "<string>",
																"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
															},
															{
																"key": "x-cds-subject",
																"value": "<string>",
																"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
															}
														],
														"url": {
															"raw": "{{baseUrl}}/banking/accounts/<string>/direct-debits?page=1&page-size=25",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																"<string>",
																"direct-debits"
															],
															"query": [
																{
																	"key": "page",
																	"value": "1"
																},
																{
																	"key": "page-size",
																	"value": "25"
																}
															]
														}
													},
													"status": "OK",
													"code": 200,
													"_postman_previewlanguage": "json",
													"header": [
														{
															"key": "x-v",
															"value": "<string>",
															"description": "The [version](#response-headers) of the API end point that the data holder has responded with."
														},
														{
															"key": "x-fapi-interaction-id",
															"value": "<string>",
															"description": "An RFC4122 UID used as a correlation id. The data holder must set the response header x-fapi-interaction-id to the value received from the corresponding fapi client request header or to a new RFC4122 UUID value if the request header was not provided to track the interaction."
														},
														{
															"key": "Content-Type",
															"value": "application/json"
														}
													],
													"cookie": [],
													"body": "{\n \"data\": {\n  \"directDebitAuthorisations\": [\n   {\n    \"accountId\": \"<string>\",\n    \"authorisedEntity\": {\n     \"description\": \"<string>\",\n     \"financialInstitution\": \"<string>\",\n     \"abn\": \"<string>\",\n     \"acn\": \"<string>\",\n     \"arbn\": \"<string>\"\n    },\n    \"lastDebitDateTime\": \"<string>\",\n    \"lastDebitAmount\": \"<string>\"\n   },\n   {\n    \"accountId\": \"<string>\",\n    \"authorisedEntity\": {\n     \"description\": \"<string>\",\n     \"financialInstitution\": \"<string>\",\n     \"abn\": \"<string>\",\n     \"acn\": \"<string>\",\n     \"arbn\": \"<string>\"\n    },\n    \"lastDebitDateTime\": \"<string>\",\n    \"lastDebitAmount\": \"<string>\"\n   }\n  ]\n },\n \"links\": {\n  \"self\": \"<string>\",\n  \"first\": \"<string>\",\n  \"prev\": \"<string>\",\n  \"next\": \"<string>\",\n  \"last\": \"<string>\"\n },\n \"meta\": {\n  \"totalPages\": \"<integer>\",\n  \"totalRecords\": \"<integer>\"\n }\n}"
												}
											]
										},
										{
											"name": "Get Direct Debits For Account - Other pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"    // Parse the response body\r",
															"    var jsonData;\r",
															"    try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"    // Schema payload check\r",
															"    ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"        const valid = ajv.validate(\"ResponseBankingDirectDebitAuthorisationList\", jsonData)\r",
															"        if (!valid){\r",
															"        ajv.errors.forEach(element => {\r",
															"            console.log(JSON.stringify(element));\r",
															"            });\r",
															"        };\r",
															"        pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"    });  \r",
															"\r",
															"\r",
															"        \r",
															"\r",
															"\r",
															"\r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"\r",
															"var pageSize = pm.variables.get(\"pageSizeBulkDirectDebits\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var totalPages = pm.variables.get(\"totalDirectDebitPages\");\r",
															"var pageArray = pm.variables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    pageArray = [];\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"};\r",
															"pm.variables.set(\"pageArray\", pageArray);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/direct-debits?page={{currentPage}}&page-size=1",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														":accountId",
														"direct-debits"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "1",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													],
													"variable": [
														{
															"key": "accountId",
															"value": "{{bankingAccountId1}}",
															"description": "ID of the account to get direct debit authorisations for.  Must have previously been returned by one of the account list end points."
														}
													]
												},
												"description": "Obtain direct debit authorisations for a specific account"
											},
											"response": [
												{
													"name": "Success",
													"originalRequest": {
														"method": "GET",
														"header": [
															{
																"key": "x-v",
																"value": "<string>",
																"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
															},
															{
																"key": "x-min-v",
																"value": "<string>",
																"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "<string>",
																"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
															},
															{
																"key": "x-fapi-auth-date",
																"value": "<string>",
																"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "<string>",
																"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
															},
															{
																"key": "x-cds-User-Agent",
																"value": "<string>",
																"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
															},
															{
																"key": "x-cds-subject",
																"value": "<string>",
																"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
															}
														],
														"url": {
															"raw": "{{baseUrl}}/banking/accounts/<string>/direct-debits?page=1&page-size=25",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																"<string>",
																"direct-debits"
															],
															"query": [
																{
																	"key": "page",
																	"value": "1"
																},
																{
																	"key": "page-size",
																	"value": "25"
																}
															]
														}
													},
													"status": "OK",
													"code": 200,
													"_postman_previewlanguage": "json",
													"header": [
														{
															"key": "x-v",
															"value": "<string>",
															"description": "The [version](#response-headers) of the API end point that the data holder has responded with."
														},
														{
															"key": "x-fapi-interaction-id",
															"value": "<string>",
															"description": "An RFC4122 UID used as a correlation id. The data holder must set the response header x-fapi-interaction-id to the value received from the corresponding fapi client request header or to a new RFC4122 UUID value if the request header was not provided to track the interaction."
														},
														{
															"key": "Content-Type",
															"value": "application/json"
														}
													],
													"cookie": [],
													"body": "{\n \"data\": {\n  \"directDebitAuthorisations\": [\n   {\n    \"accountId\": \"<string>\",\n    \"authorisedEntity\": {\n     \"description\": \"<string>\",\n     \"financialInstitution\": \"<string>\",\n     \"abn\": \"<string>\",\n     \"acn\": \"<string>\",\n     \"arbn\": \"<string>\"\n    },\n    \"lastDebitDateTime\": \"<string>\",\n    \"lastDebitAmount\": \"<string>\"\n   },\n   {\n    \"accountId\": \"<string>\",\n    \"authorisedEntity\": {\n     \"description\": \"<string>\",\n     \"financialInstitution\": \"<string>\",\n     \"abn\": \"<string>\",\n     \"acn\": \"<string>\",\n     \"arbn\": \"<string>\"\n    },\n    \"lastDebitDateTime\": \"<string>\",\n    \"lastDebitAmount\": \"<string>\"\n   }\n  ]\n },\n \"links\": {\n  \"self\": \"<string>\",\n  \"first\": \"<string>\",\n  \"prev\": \"<string>\",\n  \"next\": \"<string>\",\n  \"last\": \"<string>\"\n },\n \"meta\": {\n  \"totalPages\": \"<integer>\",\n  \"totalRecords\": \"<integer>\"\n }\n}"
												}
											]
										},
										{
											"name": "Get Scheduled Payments for Account - First page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"\r",
															"                // Parse the response body\r",
															"                var jsonData;\r",
															"                try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"                pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"                    pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"                });\r",
															"\r",
															"                // Schema payload check\r",
															"                ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"                    const valid = ajv.validate(\"ResponseBankingScheduledPaymentsListV2\", jsonData)\r",
															"                    if (!valid){\r",
															"                    ajv.errors.forEach(element => {\r",
															"                        console.log(JSON.stringify(element));\r",
															"                        });\r",
															"                    };\r",
															"                    pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"                });  \r",
															"\r",
															"        \r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeScheduledPayments\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "2"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/payments/scheduled?page=1&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														":accountId",
														"payments",
														"scheduled"
													],
													"query": [
														{
															"key": "page",
															"value": "1",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													],
													"variable": [
														{
															"key": "accountId",
															"value": "{{bankingAccountId1}}",
															"description": "ID of the account to get scheduled payments for. Must have previously been returned by one of the account list end points. The account specified is the source account for the payment"
														}
													]
												},
												"description": "Obtain scheduled, outgoing payments for a specific account"
											},
											"response": [
												{
													"name": "Success",
													"originalRequest": {
														"method": "GET",
														"header": [
															{
																"key": "x-v",
																"value": "<string>",
																"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
															},
															{
																"key": "x-min-v",
																"value": "<string>",
																"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "<string>",
																"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
															},
															{
																"key": "x-fapi-auth-date",
																"value": "<string>",
																"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "<string>",
																"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
															},
															{
																"key": "x-cds-User-Agent",
																"value": "<string>",
																"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
															},
															{
																"key": "x-cds-subject",
																"value": "<string>",
																"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
															}
														],
														"url": {
															"raw": "{{baseUrl}}/banking/accounts/<string>/payments/scheduled?page=1&page-size=25",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																"<string>",
																"payments",
																"scheduled"
															],
															"query": [
																{
																	"key": "page",
																	"value": "1"
																},
																{
																	"key": "page-size",
																	"value": "25"
																}
															]
														}
													},
													"status": "OK",
													"code": 200,
													"_postman_previewlanguage": "json",
													"header": [
														{
															"key": "x-v",
															"value": "<string>",
															"description": "The [version](#response-headers) of the API end point that the data holder has responded with."
														},
														{
															"key": "x-fapi-interaction-id",
															"value": "<string>",
															"description": "An RFC4122 UID used as a correlation id. The data holder must set the response header x-fapi-interaction-id to the value received from the corresponding fapi client request header or to a new RFC4122 UUID value if the request header was not provided to track the interaction."
														},
														{
															"key": "Content-Type",
															"value": "application/json"
														}
													],
													"cookie": [],
													"body": "{\n \"data\": {\n  \"scheduledPayments\": [\n   {\n    \"from\": {\n     \"accountId\": \"<string>\"\n    },\n    \"payeeReference\": \"<string>\",\n    \"payerReference\": \"<string>\",\n    \"paymentSet\": [\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     },\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     }\n    ],\n    \"recurrence\": {\n     \"recurrenceUType\": \"<string>\",\n     \"nextPaymentDate\": \"<string>\",\n     \"onceOff\": {\n      \"paymentDate\": \"<string>\"\n     },\n     \"intervalSchedule\": {\n      \"intervals\": [\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       },\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       }\n      ],\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\",\n      \"nonBusinessDayTreatment\": \"ON\"\n     },\n     \"lastWeekDay\": {\n      \"interval\": \"<string>\",\n      \"lastWeekDay\": \"<integer>\",\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\"\n     },\n     \"eventBased\": {\n      \"description\": \"<string>\"\n     }\n    },\n    \"scheduledPaymentId\": \"<string>\",\n    \"status\": \"<string>\",\n    \"nickname\": \"<string>\"\n   },\n   {\n    \"from\": {\n     \"accountId\": \"<string>\"\n    },\n    \"payeeReference\": \"<string>\",\n    \"payerReference\": \"<string>\",\n    \"paymentSet\": [\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     },\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     }\n    ],\n    \"recurrence\": {\n     \"recurrenceUType\": \"<string>\",\n     \"nextPaymentDate\": \"<string>\",\n     \"onceOff\": {\n      \"paymentDate\": \"<string>\"\n     },\n     \"intervalSchedule\": {\n      \"intervals\": [\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       },\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       }\n      ],\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\",\n      \"nonBusinessDayTreatment\": \"ON\"\n     },\n     \"lastWeekDay\": {\n      \"interval\": \"<string>\",\n      \"lastWeekDay\": \"<integer>\",\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\"\n     },\n     \"eventBased\": {\n      \"description\": \"<string>\"\n     }\n    },\n    \"scheduledPaymentId\": \"<string>\",\n    \"status\": \"<string>\",\n    \"nickname\": \"<string>\"\n   }\n  ]\n },\n \"links\": {\n  \"self\": \"<string>\",\n  \"first\": \"<string>\",\n  \"prev\": \"<string>\",\n  \"next\": \"<string>\",\n  \"last\": \"<string>\"\n },\n \"meta\": {\n  \"totalPages\": \"<integer>\",\n  \"totalRecords\": \"<integer>\"\n }\n}"
												}
											]
										},
										{
											"name": "Get Scheduled Payments for Account - Other pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"\r",
															"                // Parse the response body\r",
															"                var jsonData;\r",
															"                try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"                pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"                    pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"                });\r",
															"\r",
															"                // Schema payload check\r",
															"                ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"                    const valid = ajv.validate(\"ResponseBankingScheduledPaymentsListV2\", jsonData)\r",
															"                    if (!valid){\r",
															"                    ajv.errors.forEach(element => {\r",
															"                        console.log(JSON.stringify(element));\r",
															"                        });\r",
															"                    };\r",
															"                    pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"                });  \r",
															"\r",
															"        \r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var pageSize = pm.variables.get(\"pageSizeScheduledPayments\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var totalPages = pm.variables.get(\"totalScheduledPaymentsPages\");\r",
															"var pageArray = pm.variables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    pageArray = [];\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"pm.variables.set(\"pageArray\", pageArray);\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "2"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId/payments/scheduled?page={{currentPage}}&page-size=1",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														":accountId",
														"payments",
														"scheduled"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "1",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													],
													"variable": [
														{
															"key": "accountId",
															"value": "{{bankingAccountId1}}",
															"description": "ID of the account to get scheduled payments for. Must have previously been returned by one of the account list end points. The account specified is the source account for the payment"
														}
													]
												},
												"description": "Obtain scheduled, outgoing payments for a specific account"
											},
											"response": [
												{
													"name": "Success",
													"originalRequest": {
														"method": "GET",
														"header": [
															{
																"key": "x-v",
																"value": "<string>",
																"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
															},
															{
																"key": "x-min-v",
																"value": "<string>",
																"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
															},
															{
																"key": "x-fapi-interaction-id",
																"value": "<string>",
																"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
															},
															{
																"key": "x-fapi-auth-date",
																"value": "<string>",
																"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
															},
															{
																"key": "x-fapi-customer-ip-address",
																"value": "<string>",
																"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
															},
															{
																"key": "x-cds-User-Agent",
																"value": "<string>",
																"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
															},
															{
																"key": "x-cds-subject",
																"value": "<string>",
																"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
															}
														],
														"url": {
															"raw": "{{baseUrl}}/banking/accounts/<string>/payments/scheduled?page=1&page-size=25",
															"host": [
																"{{baseUrl}}"
															],
															"path": [
																"banking",
																"accounts",
																"<string>",
																"payments",
																"scheduled"
															],
															"query": [
																{
																	"key": "page",
																	"value": "1"
																},
																{
																	"key": "page-size",
																	"value": "25"
																}
															]
														}
													},
													"status": "OK",
													"code": 200,
													"_postman_previewlanguage": "json",
													"header": [
														{
															"key": "x-v",
															"value": "<string>",
															"description": "The [version](#response-headers) of the API end point that the data holder has responded with."
														},
														{
															"key": "x-fapi-interaction-id",
															"value": "<string>",
															"description": "An RFC4122 UID used as a correlation id. The data holder must set the response header x-fapi-interaction-id to the value received from the corresponding fapi client request header or to a new RFC4122 UUID value if the request header was not provided to track the interaction."
														},
														{
															"key": "Content-Type",
															"value": "application/json"
														}
													],
													"cookie": [],
													"body": "{\n \"data\": {\n  \"scheduledPayments\": [\n   {\n    \"from\": {\n     \"accountId\": \"<string>\"\n    },\n    \"payeeReference\": \"<string>\",\n    \"payerReference\": \"<string>\",\n    \"paymentSet\": [\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     },\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     }\n    ],\n    \"recurrence\": {\n     \"recurrenceUType\": \"<string>\",\n     \"nextPaymentDate\": \"<string>\",\n     \"onceOff\": {\n      \"paymentDate\": \"<string>\"\n     },\n     \"intervalSchedule\": {\n      \"intervals\": [\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       },\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       }\n      ],\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\",\n      \"nonBusinessDayTreatment\": \"ON\"\n     },\n     \"lastWeekDay\": {\n      \"interval\": \"<string>\",\n      \"lastWeekDay\": \"<integer>\",\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\"\n     },\n     \"eventBased\": {\n      \"description\": \"<string>\"\n     }\n    },\n    \"scheduledPaymentId\": \"<string>\",\n    \"status\": \"<string>\",\n    \"nickname\": \"<string>\"\n   },\n   {\n    \"from\": {\n     \"accountId\": \"<string>\"\n    },\n    \"payeeReference\": \"<string>\",\n    \"payerReference\": \"<string>\",\n    \"paymentSet\": [\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     },\n     {\n      \"to\": {\n       \"toUType\": \"<string>\",\n       \"accountId\": \"<string>\",\n       \"payeeId\": \"<string>\",\n       \"domestic\": {\n        \"payeeAccountUType\": \"<string>\",\n        \"account\": {\n         \"accountName\": \"<string>\",\n         \"accountNumber\": \"<string>\",\n         \"bsb\": \"<string>\"\n        },\n        \"card\": {\n         \"cardNumber\": \"<string>\"\n        },\n        \"payId\": {\n         \"identifier\": \"<string>\",\n         \"type\": \"<string>\",\n         \"name\": \"<string>\"\n        }\n       },\n       \"biller\": {\n        \"billerCode\": \"<string>\",\n        \"billerName\": \"<string>\",\n        \"crn\": \"<string>\"\n       },\n       \"international\": {\n        \"bankDetails\": {\n         \"accountNumber\": \"<string>\",\n         \"country\": \"<string>\",\n         \"bankAddress\": {\n          \"address\": \"<string>\",\n          \"name\": \"<string>\"\n         },\n         \"beneficiaryBankBIC\": \"<string>\",\n         \"fedWireNumber\": \"<string>\",\n         \"sortCode\": \"<string>\",\n         \"chipNumber\": \"<string>\",\n         \"routingNumber\": \"<string>\",\n         \"legalEntityIdentifier\": \"<string>\"\n        },\n        \"beneficiaryDetails\": {\n         \"country\": \"<string>\",\n         \"name\": \"<string>\",\n         \"message\": \"<string>\"\n        }\n       }\n      },\n      \"isAmountCalculated\": \"<boolean>\",\n      \"amount\": \"<string>\",\n      \"currency\": \"<string>\"\n     }\n    ],\n    \"recurrence\": {\n     \"recurrenceUType\": \"<string>\",\n     \"nextPaymentDate\": \"<string>\",\n     \"onceOff\": {\n      \"paymentDate\": \"<string>\"\n     },\n     \"intervalSchedule\": {\n      \"intervals\": [\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       },\n       {\n        \"interval\": \"<string>\",\n        \"dayInInterval\": \"<string>\"\n       }\n      ],\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\",\n      \"nonBusinessDayTreatment\": \"ON\"\n     },\n     \"lastWeekDay\": {\n      \"interval\": \"<string>\",\n      \"lastWeekDay\": \"<integer>\",\n      \"finalPaymentDate\": \"<string>\",\n      \"paymentsRemaining\": \"<integer>\"\n     },\n     \"eventBased\": {\n      \"description\": \"<string>\"\n     }\n    },\n    \"scheduledPaymentId\": \"<string>\",\n    \"status\": \"<string>\",\n    \"nickname\": \"<string>\"\n   }\n  ]\n },\n \"links\": {\n  \"self\": \"<string>\",\n  \"first\": \"<string>\",\n  \"prev\": \"<string>\",\n  \"next\": \"<string>\",\n  \"last\": \"<string>\"\n },\n \"meta\": {\n  \"totalPages\": \"<integer>\",\n  \"totalRecords\": \"<integer>\"\n }\n}"
												}
											]
										}
									]
								},
								{
									"name": "balances-negative-tests",
									"item": [
										{
											"name": "Get Balances For Specific Accounts - Invalid account ID",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"",
															"        // Parse the response body",
															"        try { jsonData = pm.response.json(); } catch(e) {}",
															"",
															"        ((pm.response.code == 404) ? pm.test : pm.test.skip)('Correct error code in error object', function() {",
															"            const valid = ajv.validate(\"ResponseErrorListV2\", jsonData);",
															"            let errCode = jsonData.errors[0].code;",
															"            pm.expect(errCode).to.oneOf( [\"urn:au-cds:error:cds-all:Resource/Invalid\", \"urn:au-cds:error:cds-all:Resource/Unavailable\"]);",
															"            if (!valid){",
															"            ajv.errors.forEach(element => {",
															"                console.log(JSON.stringify(element));",
															"                });",
															"            };         ",
															"        });  ",
															" ",
															"",
															"",
															"",
															"",
															"",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "1"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"data\": {\n        \"accountIds\": [\n            \"{{invalidID}}\"\n        ]\n    },\n    \"meta\": {}\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/accounts/balances",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"accounts",
														"balances"
													]
												},
												"description": "Obtain balances for a specified list of accounts"
											},
											"response": []
										}
									]
								},
								{
									"name": "Get Accounts - First page",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Parse the response body",
													"var jsonData;",
													"try { jsonData = pm.response.json(); } catch(e) {}",
													"",
													"if (pm.response.code < 500) {",
													"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
													"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
													"    });",
													"}",
													"",
													"// Schema payload check",
													"if (pm.response.code === 200) {",
													"        pm.test('Response payload conforms to standards schema', function() {",
													"        const valid = ajv.validate(\"ResponseBankingAccountListV2\", jsonData)",
													"        if (!valid){",
													"            ajv.errors.forEach(element => {",
													"                console.log(JSON.stringify(element));",
													"            });",
													"        };",
													"        pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
													"    }); ",
													"}",
													" ",
													"// only accounts with specified openStatus are included",
													"if ((pm.response.code === 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) && (pm.request.url.query.get(\"open-status\") != null) && (jsonData?.data?.accounts?.length > 0)) ",
													"{",
													"     pm.test('open status query parameter is considered', function() {",
													"        var currentStatus = pm.variables.get(\"openStatus\")",
													"        if (currentStatus !== \"ALL\"){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                if (acc?.openStatus != null){",
													"                    pm.expect(acc.openStatus).to.equal(currentStatus)",
													"                } else {",
													"                    pm.expect(acc.openStatus).to.be.oneOf([\"OPEN\", undefined])",
													"                }               ",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"// only accounts with specified productCategory are included",
													"if ((pm.response.code === 200) && (pm.request.url.query.get(\"product-category\") != null) && (jsonData?.data?.accounts?.length > 0)) {",
													"    pm.test('product-category query parameter is considered', function() {",
													"        var currentCategory = pm.variables.get(\"productCategory\")",
													"        if (currentCategory !== \"ALL\"){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                pm.expect(acc.productCategory).to.equal(currentCategory)",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"// only accounts with specified isOwned are included",
													"if ((pm.response.code === 200) && (pm.request.url.query.get(\"is-owned\") != null) && (jsonData?.data?.accounts?.length > 0)) {",
													"    pm.test('is-owned query parameter is considered', function() {",
													"        var currentOwned = pm.variables.get(\"isOwned\")",
													"        if (currentOwned !== undefined){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                if (acc?.isOwned != null){",
													"                    pm.expect(acc.isOwned).to.equal(currentOwned)",
													"                } else {",
													"                    pm.expect(acc.isOwned).to.be.oneOf([true, undefined])",
													"                }   ",
													"            })",
													"        }",
													"    });",
													"}",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"// First page is always 1\r",
													"pm.variables.set(\"currentPage\", 1);\r",
													"// if a page size is specified use it, otherwise default\r",
													"var pageSize = pm.variables.get(\"pageSizeAccounts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
													"var productCategory = pm.variables.get(\"productCategory\")"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2"
											},
											{
												"key": "x-min-v",
												"value": "1"
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}"
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}"
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1"
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/accounts?open-status={{openStatus}}&page=1&page-size={{pageSize}}&product-category={{productCategory}}",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"accounts"
											],
											"query": [
												{
													"key": "open-status",
													"value": "{{openStatus}}",
													"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
												},
												{
													"key": "page",
													"value": "1",
													"description": "Page of results to request (standard pagination)"
												},
												{
													"key": "page-size",
													"value": "{{pageSize}}",
													"description": "Page size to request. Default is 25 (standard pagination)"
												},
												{
													"key": "product-category",
													"value": "{{productCategory}}"
												}
											]
										},
										"description": "Obtain a list of accounts"
									},
									"response": []
								},
								{
									"name": "Get Accounts - No params",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"        // Parse the response body",
													"        var jsonData;",
													"        try { jsonData = pm.response.json(); } catch(e) {}",
													"",
													"if (pm.response.code < 500) {",
													"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
													"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
													"    });",
													"}",
													"",
													"// Schema payload check",
													"if (pm.response.code === 200) {",
													"        pm.test('Response payload conforms to standards schema', function() {",
													"        const valid = ajv.validate(\"ResponseBankingAccountListV2\", jsonData)",
													"        if (!valid){",
													"            ajv.errors.forEach(element => {",
													"                console.log(JSON.stringify(element));",
													"            });",
													"        };",
													"        pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
													"    }); ",
													"}",
													" ",
													"// only accounts with specified openStatus are included",
													"if ((pm.response.code === 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) && (pm.request.url.query.get(\"open-status\") != null) && (jsonData?.data?.accounts?.length > 0)) ",
													"{",
													"     pm.test('open status query parameter is considered', function() {",
													"        var currentStatus = pm.variables.get(\"openStatus\")",
													"        if (currentStatus !== \"ALL\"){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                if (acc?.openStatus != null){",
													"                    pm.expect(acc.openStatus).to.equal(currentStatus)",
													"                } else {",
													"                    pm.expect(acc.openStatus).to.be.oneOf([\"OPEN\", undefined])",
													"                }               ",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"// only accounts with specified productCategory are included",
													"if ((pm.response.code === 200) && (pm.request.url.query.get(\"product-category\") != null) && (jsonData?.data?.accounts?.length > 0)) {",
													"    pm.test('product-category query parameter is considered', function() {",
													"        var currentCategory = pm.variables.get(\"productCategory\")",
													"        if (currentCategory !== \"ALL\"){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                pm.expect(acc.productCategory).to.equal(currentCategory)",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"// only accounts with specified isOwned are included",
													"if ((pm.response.code === 200) && (pm.request.url.query.get(\"is-owned\") != null) && (jsonData?.data?.accounts?.length > 0)) {",
													"    pm.test('is-owned query parameter is considered', function() {",
													"        var currentOwned = pm.variables.get(\"isOwned\")",
													"        if (currentOwned !== undefined){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                if (acc?.isOwned != null){",
													"                    pm.expect(acc.isOwned).to.equal(currentOwned)",
													"                } else {",
													"                    pm.expect(acc.isOwned).to.be.oneOf([true, undefined])",
													"                }   ",
													"            })",
													"        }",
													"    });",
													"}",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"// First page is always 1\r",
													"pm.variables.set(\"currentPage\", 1);\r",
													"// if a page size is specified use it, otherwise default\r",
													"var pageSize = pm.variables.get(\"pageSizeAccounts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2"
											},
											{
												"key": "x-min-v",
												"value": "1"
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}"
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}"
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1"
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/accounts",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"accounts"
											]
										},
										"description": "Obtain a list of accounts"
									},
									"response": []
								},
								{
									"name": "Get Accounts - Other pages",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"        // Parse the response body",
													"        var jsonData;",
													"        try { jsonData = pm.response.json(); } catch(e) {}",
													"",
													"",
													"if (pm.response.code < 500) {",
													"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
													"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
													"    });",
													"}",
													"",
													"// Schema payload check",
													"if (pm.response.code === 200) {",
													"        pm.test('Response payload conforms to standards schema', function() {",
													"        const valid = ajv.validate(\"ResponseBankingAccountListV2\", jsonData)",
													"        if (!valid){",
													"            ajv.errors.forEach(element => {",
													"                console.log(JSON.stringify(element));",
													"            });",
													"        };",
													"        pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
													"    }); ",
													"}",
													" ",
													"// only accounts with specified openStatus are included",
													"if ((pm.response.code === 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) && (pm.request.url.query.get(\"open-status\") != null) && (jsonData?.data?.accounts?.length > 0)) ",
													"{",
													"     pm.test('open status query parameter is considered', function() {",
													"        var currentStatus = pm.variables.get(\"openStatus\")",
													"        if (currentStatus !== \"ALL\"){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                if (acc?.openStatus != null){",
													"                    pm.expect(acc.openStatus).to.equal(currentStatus)",
													"                } else {",
													"                    pm.expect(acc.openStatus).to.be.oneOf([\"OPEN\", undefined])",
													"                }               ",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"// only accounts with specified productCategory are included",
													"if ((pm.response.code === 200) && (pm.request.url.query.get(\"product-category\") != null) && (jsonData?.data?.accounts?.length > 0)) {",
													"    pm.test('product-category query parameter is considered', function() {",
													"        var currentCategory = pm.variables.get(\"productCategory\")",
													"        if (currentCategory !== \"ALL\"){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                pm.expect(acc.productCategory).to.equal(currentCategory)",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"// only accounts with specified isOwned are included",
													"if ((pm.response.code === 200) && (pm.request.url.query.get(\"is-owned\") != null) && (jsonData?.data?.accounts?.length > 0)) {",
													"    pm.test('is-owned query parameter is considered', function() {",
													"        var currentOwned = pm.variables.get(\"isOwned\")",
													"        if (currentOwned !== undefined){",
													"            jsonData?.data?.accounts.forEach(acc => {",
													"                if (acc?.isOwned != null){",
													"                    pm.expect(acc.isOwned).to.equal(currentOwned)",
													"                } else {",
													"                    pm.expect(acc.isOwned).to.be.oneOf([true, undefined])",
													"                }   ",
													"            })",
													"        }",
													"    });",
													"}",
													"",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var pageSize = pm.variables.get(\"pageSizeAccounts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"// The totalAccountsPages is set in the previous \"******** - First page\" request\r",
													"var totalPages = pm.variables.get(\"totalAccountsPages\");\r",
													"// pageArray is an array of consequtive numbers\r",
													"var pageArray = pm.variables.get(\"pageArray\");\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
													"\r",
													"if(!pageArray || pageArray.length == 0) {\r",
													"    for(var i = 1; i <= totalPages; i++)\r",
													"        pageArray.push(i);\r",
													"}\r",
													"\r",
													"let currentPage = pageArray.shift();\r",
													"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
													"    pm.variables.set(\"currentPage\", currentPage);\r",
													"}\r",
													"pm.variables.set(\"pageArray\", pageArray);\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2"
											},
											{
												"key": "x-min-v",
												"value": "1"
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}"
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}"
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1"
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/accounts?open-status={{openStatus}}&page={{currentPage}}&page-size=1&product-category={{productCategory}}",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"accounts"
											],
											"query": [
												{
													"key": "open-status",
													"value": "{{openStatus}}",
													"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
												},
												{
													"key": "page",
													"value": "{{currentPage}}",
													"description": "Page of results to request (standard pagination)"
												},
												{
													"key": "page-size",
													"value": "1",
													"description": "Page size to request. Default is 25 (standard pagination)"
												},
												{
													"key": "product-category",
													"value": "{{productCategory}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Account Detail",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"        // if not id is provided we skip these tests",
													"        if (pm.variables.get(\"bankingAccountId1\") != \"\")",
													"        {",
													"                // Parse the response body",
													"                var jsonData;",
													"                try { jsonData = pm.response.json(); } catch(e) {}",
													"",
													"                pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
													"                    pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
													"                });",
													"",
													"",
													"        // Schema payload check",
													"         ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {",
													"            const valid = ajv.validate(\"ResponseBankingAccountByIdV3\", jsonData)",
													"            if (!valid){",
													"            ajv.errors.forEach(element => {",
													"                console.log(JSON.stringify(element));",
													"                });",
													"            };",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;",
													"        });",
													"    }",
													"",
													"",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "3",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "3",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"accounts",
												":accountId"
											],
											"variable": [
												{
													"key": "accountId",
													"value": "{{bankingAccountId1}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Account Detail - Invalid Account",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"// Parse the response body",
													"var jsonData;",
													"try { jsonData = pm.response.json(); } catch(e) {}",
													"",
													"if (pm.response.code < 500) {",
													"    pm.test(\"Expect response to be 404\", function() {",
													"        pm.expect(pm.response.code).eq(404);",
													"    })",
													"",
													"    pm.test('Correct error code in error object', function() {",
													"        const valid = ajv.validate(\"ResponseErrorListV2\", jsonData);",
													"        let errCode = jsonData.errors[0].code;",
													"        pm.expect(errCode).to.oneOf( [\"urn:au-cds:error:cds-banking:Authorisation/InvalidBankingAccount\", \"urn:au-cds:error:cds-banking:Authorisation/UnavailableBankingAccount\"]);",
													"        if (!valid){",
													"        ajv.errors.forEach(element => {",
													"            console.log(JSON.stringify(element));",
													"            });",
													"        };         ",
													"    });",
													"}  ",
													"",
													"",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "3",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "3",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"body": {
											"mode": "raw",
											"raw": ""
										},
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/accounts/:accountId",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"accounts",
												":accountId"
											],
											"variable": [
												{
													"key": "accountId",
													"value": "{{invalidID}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get Accounts - Out of range page",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"   // Parse the response body",
													"var jsonData;",
													"try { jsonData = pm.response.json(); } catch(e) {}",
													"",
													"if (pm.response.code < 500) {",
													"    pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {",
													"        pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));",
													"    });",
													"",
													"    pm.test(\"Expect response to be 422\", function() {",
													"        pm.expect(pm.response.code).eq(422);",
													"    })",
													"",
													"    pm.test(\"Correct error code in error object\", function() {",
													"        const valid = ajv.validate(\"ResponseErrorListV2\", jsonData);",
													"        let errCode = jsonData.errors[0].code;",
													"        pm.expect(errCode).to.oneOf( [\"urn:au-cds:error:cds-all:Field/InvalidPage\"]);",
													"        if (!valid){",
													"        ajv.errors.forEach(element => {",
													"            console.log(JSON.stringify(element));",
													"            });",
													"        };         ",
													"    });             ",
													"}",
													"",
													"",
													"",
													"    ",
													"",
													"",
													"",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var pageSize = pm.variables.get(\"pageSizeAccounts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"// The totalAccountsPages is set in the previous \"******** - First page\" request\r",
													"let currentPage = 99999;\r",
													"pm.variables.set(\"currentPage\", currentPage);\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2"
											},
											{
												"key": "x-min-v",
												"value": "1"
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}"
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}"
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1"
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}"
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/accounts?open-status={{openStatus}}&page=99999&page-size={{pageSize}}",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"accounts"
											],
											"query": [
												{
													"key": "open-status",
													"value": "{{openStatus}}",
													"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
												},
												{
													"key": "page",
													"value": "99999",
													"description": "Page of results to request (standard pagination)"
												},
												{
													"key": "page-size",
													"value": "{{pageSize}}",
													"description": "Page size to request. Default is 25 (standard pagination)"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "payments",
							"item": [
								{
									"name": "scheduled",
									"item": [
										{
											"name": "Get Scheduled Payments Bulk - First page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingScheduledPaymentsListV2\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });         \r",
															"\r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeScheduledPayments\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "2"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/payments/scheduled?product-category={{productCategory}}&open-status={{openStatus}}&is-owned={{isOwned}}&page={{currentPage}}&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"payments",
														"scheduled"
													],
													"query": [
														{
															"key": "product-category",
															"value": "{{productCategory}}",
															"description": "Used to filter results on the productCategory field applicable to accounts. Any one of the valid values for this field can be supplied. If absent then all accounts returned."
														},
														{
															"key": "open-status",
															"value": "{{openStatus}}",
															"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
														},
														{
															"key": "is-owned",
															"value": "{{isOwned}}",
															"description": "Filters accounts based on whether they are owned by the authorised customer.  True for owned accounts, false for unowned accounts and absent for all accounts"
														},
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													]
												},
												"description": "Obtain scheduled payments for multiple, filtered accounts that are the source of funds for the payments"
											},
											"response": []
										},
										{
											"name": "Get Scheduled Payments Bulk - Other pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Determine if this is the last time this request is run by looking at the pageArray\r",
															"        const pageArray = pm.variables.get(\"pageArray\");\r",
															"        if (pageArray && pageArray.length > 0){\r",
															"            postman.setNextRequest(\"Get Scheduled Payments Bulk - Other pages\");\r",
															"            } else {\r",
															"                postman.setNextRequest(\"Get Scheduled Payments For Specific Accounts - First page\");       \r",
															"            }\r",
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingScheduledPaymentsListV2\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });    \r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var pageSize = pm.variables.get(\"pageSizeScheduledPayments\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"var totalPages = pm.variables.get(\"totalScheduledPaymentsPages\");\r",
															"var pageArray = pm.variables.get(\"pageArray\");\r",
															"console.log(\"Page array is \" + pageArray);\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {currentPage = 1} else {\r",
															"    pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"\r",
															"pm.variables.set(\"pageArray\", pageArray);\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [
													{
														"key": "x-v",
														"value": "2"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/payments/scheduled?product-category={{productCategory}}&open-status={{openStatus}}&is-owned={{isOwned}}&page={{currentPage}}&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"payments",
														"scheduled"
													],
													"query": [
														{
															"key": "product-category",
															"value": "{{productCategory}}",
															"description": "Used to filter results on the productCategory field applicable to accounts. Any one of the valid values for this field can be supplied. If absent then all accounts returned."
														},
														{
															"key": "open-status",
															"value": "{{openStatus}}",
															"description": "Used to filter results according to open/closed status. Values can be OPEN, CLOSED or ALL. If absent then ALL is assumed"
														},
														{
															"key": "is-owned",
															"value": "{{isOwned}}",
															"description": "Filters accounts based on whether they are owned by the authorised customer.  True for owned accounts, false for unowned accounts and absent for all accounts"
														},
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													]
												},
												"description": "Obtain scheduled payments for multiple, filtered accounts that are the source of funds for the payments"
											},
											"response": []
										},
										{
											"name": "Get Scheduled Payments For Specific Accounts - First page",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingScheduledPaymentsListV2\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
															"        });    \r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"pm.variables.set(\"currentPage\", 1);\r",
															"var pageSize = pm.variables.get(\"pageSizeScheduledPayments\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "2"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"data\": {\n        \"accountIds\": [\n            \"{{testAccountId1}}\",\n            \"{{testAccountId2}}\"\n        ]\n    },\n    \"meta\": {}\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/payments/scheduled?page={{currentPage}}&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"payments",
														"scheduled"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													]
												},
												"description": "Obtain scheduled payments for a specified list of accounts"
											},
											"response": []
										},
										{
											"name": "Get Scheduled Payments For Specific Accounts - Other pages",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"\r",
															"        // Determine if this is the last time this request is run by looking at the pageArray\r",
															"        const pageArray = pm.variables.get(\"pageArray\");\r",
															"        if (pageArray && pageArray.length > 0){\r",
															"            postman.setNextRequest(\"Get Scheduled Payments For Specific Accounts - Other pages\");\r",
															"            } else {   \r",
															"                postman.setNextRequest(\"Get Payees - First page\");       \r",
															"            }\r",
															"\r",
															"        // Parse the response body\r",
															"        var jsonData;\r",
															"        try { jsonData = pm.response.json(); } catch(e) {}\r",
															"\r",
															"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
															"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
															"        });\r",
															"\r",
															"        // Schema payload check\r",
															"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
															"            const valid = ajv.validate(\"ResponseBankingScheduledPaymentsListV2\", jsonData)\r",
															"            if (!valid){\r",
															"            ajv.errors.forEach(element => {\r",
															"                console.log(JSON.stringify(element));\r",
															"                });\r",
															"            };\r",
															"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true; \r",
															"        });    \r",
															"\r",
															""
														],
														"type": "text/javascript",
														"packages": {}
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															"var pageSize = pm.variables.get(\"pageSizeScheduledPayments\");\r",
															"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
															"    pm.variables.set(\"pageSize\", pageSize);\r",
															"}\r",
															"\r",
															"var totalPages = pm.variables.get(\"totalScheduledPaymentsPages\");\r",
															"var pageArray = pm.variables.get(\"pageArray\");\r",
															"\r",
															"if(!pageArray || pageArray.length == 0) {\r",
															"    for(var i = 1; i <= totalPages; i++)\r",
															"        pageArray.push(i);\r",
															"}\r",
															"\r",
															"let currentPage = pageArray.shift();\r",
															"if (currentPage == null) {currentPage = 1} else {\r",
															"pm.variables.set(\"currentPage\", currentPage);\r",
															"}\r",
															"pm.variables.set(\"currentPage\", currentPage);\r",
															"pm.variables.set(\"pageArray\", pageArray);\r",
															"\r",
															"var moment = require('moment');\r",
															"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
															"var fapiDate = moment().format(dateFormat);\r",
															"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
														],
														"type": "text/javascript",
														"packages": {}
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "x-v",
														"value": "2"
													},
													{
														"key": "x-min-v",
														"value": "1"
													},
													{
														"key": "x-fapi-interaction-id",
														"value": "{{x-fapi-interaction-id}}"
													},
													{
														"key": "x-fapi-auth-date",
														"value": "{{x-fapi-auth-date}}"
													},
													{
														"key": "x-fapi-customer-ip-address",
														"value": "127.0.0.1"
													},
													{
														"key": "x-cds-client-headers",
														"value": "{{cdsClientHeader}}"
													},
													{
														"key": "Content-Type",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"data\": {\n        \"accountIds\": [\n            \"{{testAccountId1}}\",\n            \"{{testAccountId2}}\"\n        ]\n    },\n    \"meta\": {}\n}"
												},
												"url": {
													"raw": "{{authenticatedResourceUrl}}/banking/payments/scheduled?page={{currentPage}}&page-size={{pageSize}}",
													"host": [
														"{{authenticatedResourceUrl}}"
													],
													"path": [
														"banking",
														"payments",
														"scheduled"
													],
													"query": [
														{
															"key": "page",
															"value": "{{currentPage}}",
															"description": "Page of results to request (standard pagination)"
														},
														{
															"key": "page-size",
															"value": "{{pageSize}}",
															"description": "Page size to request. Default is 25 (standard pagination)"
														}
													]
												},
												"description": "Obtain scheduled payments for a specified list of accounts"
											},
											"response": []
										}
									]
								}
							]
						},
						{
							"name": "payees",
							"item": [
								{
									"name": "Get Payees - First page",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        \r",
													"\r",
													"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
													"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
													"        });\r",
													" \r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingPayeeListV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"        });    \r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"currentPage\", 1);\r",
													"var pageSize = pm.variables.get(\"pageSizePayees\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "1",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/payees?type={{payeeType}}&page=1&page-size={{pageSize}}",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"payees"
											],
											"query": [
												{
													"key": "type",
													"value": "{{payeeType}}",
													"description": "Filter on the payee type field.  In addition to normal type field values, ALL can be specified to retrieve all payees.  If absent the assumed value is ALL"
												},
												{
													"key": "page",
													"value": "1",
													"description": "Page of results to request (standard pagination)"
												},
												{
													"key": "page-size",
													"value": "{{pageSize}}",
													"description": "Page size to request. Default is 25 (standard pagination)"
												}
											]
										},
										"description": "Obtain a list of pre-registered payees"
									},
									"response": []
								},
								{
									"name": "Get Payees - No params",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
													"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
													"        });\r",
													" \r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingPayeeListV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"        });    \r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"currentPage\", 1);\r",
													"var pageSize = pm.variables.get(\"pageSizePayees\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "1",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/payees",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"payees"
											]
										},
										"description": "Obtain a list of pre-registered payees"
									},
									"response": []
								},
								{
									"name": "Get Payees - Other pages",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
													"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
													"        });\r",
													"\r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingPayeeListV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid).to.be.true; \r",
													"        });  \r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var pageSize = pm.variables.get(\"pageSizePayees\");\r",
													"if (pageSize == undefined) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"var totalPages = pm.variables.get(\"totalPayeePages\");\r",
													"var pageArray = pm.variables.get(\"pageArray\");\r",
													"\r",
													"if(!pageArray || pageArray.length == 0) {\r",
													"    for(var i = 1; i <= totalPages; i++)\r",
													"        pageArray.push(i);\r",
													"}\r",
													"\r",
													"let currentPage = pageArray.shift();\r",
													"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
													"pm.variables.set(\"currentPage\", currentPage);\r",
													"}\r",
													"pm.variables.set(\"pageArray\", pageArray);\r",
													"\r",
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "1",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/payees?type=ALL&page={{currentPage}}&page-size=1",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"payees"
											],
											"query": [
												{
													"key": "type",
													"value": "ALL",
													"description": "Filter on the payee type field.  In addition to normal type field values, ALL can be specified to retrieve all payees.  If absent the assumed value is ALL"
												},
												{
													"key": "page",
													"value": "{{currentPage}}",
													"description": "Page of results to request (standard pagination)"
												},
												{
													"key": "page-size",
													"value": "1",
													"description": "Page size to request. Default is 25 (standard pagination)"
												}
											]
										},
										"description": "Obtain a list of pre-registered payees"
									},
									"response": []
								},
								{
									"name": "Get Payee Detail",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // if no id is provided we will skip these tests\r",
													"    if (pm.variables.get(\"testPayeeId\") != \"\")\r",
													"    {\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        pm.test(\"x-fapi-interaction-id header is present and has correct value\", function () {\r",
													"            pm.response.to.have.header(\"x-fapi-interaction-id\", pm.variables.get(\"x-fapi-interaction-id\"));\r",
													"        });\r",
													"\r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingPayeeByIdV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"        });  \r",
													"    }\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "2",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/payees/:payeeId",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"payees",
												":payeeId"
											],
											"variable": [
												{
													"key": "payeeId",
													"value": "{{bankingPayeeId}}",
													"description": "The ID used to locate the details of a particular payee"
												}
											]
										},
										"description": "Obtain detailed information on a single payee"
									},
									"response": []
								},
								{
									"name": "Get Payee Detail - Invalid Payee",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // Parse the response body\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        ((pm.response.code == 404) ? pm.test : pm.test.skip)('Correct error code in error object', function() {\r",
													"            const valid = ajv.validate(\"ResponseErrorListV2\", jsonData);\r",
													"            let errCode = jsonData.errors[0].code;\r",
													"            pm.expect(errCode).to.oneOf( [\"urn:au-cds:error:cds-all:Resource/Invalid\", \"urn:au-cds:error:cds-all:Resource/Unavailable\"]);\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };         \r",
													"        });  \r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"var moment = require('moment');\r",
													"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";\r",
													"var fapiDate = moment().format(dateFormat);\r",
													"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "2",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "2",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "x-fapi-interaction-id",
												"value": "{{x-fapi-interaction-id}}",
												"description": "An [RFC4122](https://tools.ietf.org/html/rfc4122) UID used as a correlation id. If provided, the data holder must play back this value in the x-fapi-interaction-id response header. If not provided a [RFC4122] UUID value is required to be provided in the response header to track the interaction."
											},
											{
												"key": "x-fapi-auth-date",
												"value": "{{x-fapi-auth-date}}",
												"description": "The time when the customer last logged in to the data recipient. Required for all resource calls (customer present and unattended). Not to be included for unauthenticated calls."
											},
											{
												"key": "x-fapi-customer-ip-address",
												"value": "127.0.0.1",
												"description": "The customer's original IP address if the customer is currently logged in to the data recipient. The presence of this header indicates that the API is being called in a customer present context. Not to be included for unauthenticated calls."
											},
											{
												"key": "x-cds-client-headers",
												"value": "{{cdsClientHeader}}",
												"description": "The customer's original standard http headers [Base64](#common-field-types) encoded, including the original User Agent header, if the customer is currently logged in to the data recipient. Mandatory for customer present calls.  Not required for unattended or unauthenticated calls."
											},
											{
												"key": "Content-Type",
												"value": "application/json",
												"description": "Subject identifier. Locally unique and never reassigned identifier within the Holder for the End-User. Mandatory for authenticated calls. Not required for unattended or unauthenticated calls."
											}
										],
										"url": {
											"raw": "{{authenticatedResourceUrl}}/banking/payees/:payeeId",
											"host": [
												"{{authenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"payees",
												":payeeId"
											],
											"variable": [
												{
													"key": "payeeId",
													"value": "{{invalidID}}",
													"description": "The ID used to locate the details of a particular payee"
												}
											]
										},
										"description": "Obtain detailed information on a single payee"
									},
									"response": []
								}
							]
						},
						{
							"name": "products",
							"item": [
								{
									"name": "Get Products - First page",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingProductListV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"        });   \r",
													"\r",
													"        // only products with specified productCategory are included\r",
													"        if ((pm.response.code === 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) && (pm.request.url.query.get(\"product-category\") != null) && (jsonData?.data?.products?.length > 0)) {\r",
													"            pm.test('product-category query parameter is considered', function() {\r",
													"                var currentCategory = pm.variables.get(\"productCategory\")\r",
													"                if (currentCategory !== \"ALL\"){\r",
													"                    jsonData?.data?.products.forEach(prod => {\r",
													"                        pm.expect(prod.productCategory).to.equal(currentCategory)\r",
													"                    })\r",
													"                }\r",
													"            });\r",
													"        }\r",
													" \r",
													"\r",
													"\r",
													"\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"productCategory\", \"BUSINESS_LOANS\");\r",
													"pm.collectionVariables.set(\"effective\", \"CURRENT\");\r",
													"\r",
													"// First page is always 1\r",
													"pm.variables.set(\"currentPage\", 1);\r",
													"// if a page size is specified use it, otherwise default\r",
													"var pageSize = pm.variables.get(\"pageSizeProducts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "3",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "3",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{unauthenticatedResourceUrl}}/banking/products?effective={{effective}}&product-category={{productCategory}}&page=1&page-size={{pageSize}}",
											"host": [
												"{{unauthenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"products"
											],
											"query": [
												{
													"key": "effective",
													"value": "{{effective}}"
												},
												{
													"key": "product-category",
													"value": "{{productCategory}}"
												},
												{
													"key": "page",
													"value": "1"
												},
												{
													"key": "page-size",
													"value": "{{pageSize}}"
												}
											]
										},
										"description": "Obtain a list of products that are currently openly offered to the market\n\nNote that the results returned by this end point are expected to be ordered according to updated-since\n\n### Conventions\nIn the product reference payloads there are a number of recurring conventions that are explained here, in one place.\n\n#### Arrays Of Features\n\nIn the product detail payload there are a number of arrays articulating generic features, constraints, prices, etc. The intent of these arrays is as follows:\n\n- Each element in an array has the same structure so that clients can reliably interpret the payloads\n- Each element as a type element that is an enumeration of the specific aspect of a product being described, such as types of fees.\n- Each element has a field name [additionalValue](#productfeaturetypedoc).  This is a generic field with contents that will vary based on the type of object being described. The contents of this field for the ADDITIONAL_CARDS feature is the number of cards allowed while the contents of this field for the MAX_LIMIT constraint would be the maximum credit limit allowed for the product.\n- An element in these arrays of the same type may appear more than once. For instance, a product may offer two separate loyalty programs that the customer can select from. A fixed term mortgage may have different rates for different term lengths.\n- An element in these arrays may contain an additionalInfo and additionalInfoUri field. The additionalInfo field is used to provide displayable text clarifying the purpose of the element in some way when the product is presented to a customer. The additionalInfoUri provides a link to externally hosted information specifically relevant to that feature of the product.\n- Depending on the type of data being represented there may be additional specific fields.\n\n#### URIs To More Information\n\nAs the complexities and nuances of a financial product can not easily be fully expressed in a data structure without a high degree of complexity it is necessary to provide additional reference information that a potential customer can access so that they are fully informed of the features and implications of the product. The payloads for product reference therefore contain numerous fields that are provided to allow the product holder to describe the product more fully using a web page hosted on their online channels.\n\nThese URIs do not need to all link to different pages. If desired, they can all link to a single hosted page and use difference HTML anchors to focus on a specific topic such as eligibility or fees.\n\n#### Linkage To Accounts\nFrom the moment that a customer applies for a product and an account is created the account and the product that spawned it will diverge.  Rates and features of the product may change and a discount may be negotiated for the account.\n\nFor this reason, while productCategory is a common field between accounts and products, there is no specific ID that can be used to link an account to a product within the regime.\n\nSimilarly, many of the fields and objects in the product payload will appear in the account detail payload but the structures and semantics are not identical as one refers to a product that can potentially be originated and one refers to an account that actual has been instantiated and created along with the associated decisions inherent in that process.\n\n#### Dates\nIt is expected that data consumers needing this data will call relatively frequently to ensure the data they have is representative of the current offering from a bank.  To minimise the volume and frequency of these calls the ability to set a lastUpdated field with the date and time of the last update to this product is included.  A call for a list of products can then be filtered to only return products that have been updated since the last time that data was obtained using the updated-since query parameter.\n\nIn addition, the concept of effective date and time has also been included.  This allows for a product to be marked for obsolescence, or introduction, from a certain time without the need for an update to show that a product has been changed.  The inclusion of these dates also removes the need to represent deleted products in the payload.  Products that are no long offered can be marked not effective for a few weeks before they are then removed from the product set as an option entirely."
									},
									"response": []
								},
								{
									"name": "Get Products - No params",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingProductListV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"        });    \r",
													"\r",
													"\r",
													"\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.collectionVariables.set(\"productCategory\", \"BUSINESS_LOANS\");\r",
													"pm.collectionVariables.set(\"effective\", \"CURRENT\");\r",
													"\r",
													"// First page is always 1\r",
													"pm.variables.set(\"currentPage\", 1);\r",
													"// if a page size is specified use it, otherwise default\r",
													"var pageSize = pm.variables.get(\"pageSizeProducts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "3",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "3",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{unauthenticatedResourceUrl}}/banking/products",
											"host": [
												"{{unauthenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"products"
											]
										},
										"description": "Obtain a list of products that are currently openly offered to the market\n\nNote that the results returned by this end point are expected to be ordered according to updated-since\n\n### Conventions\nIn the product reference payloads there are a number of recurring conventions that are explained here, in one place.\n\n#### Arrays Of Features\n\nIn the product detail payload there are a number of arrays articulating generic features, constraints, prices, etc. The intent of these arrays is as follows:\n\n- Each element in an array has the same structure so that clients can reliably interpret the payloads\n- Each element as a type element that is an enumeration of the specific aspect of a product being described, such as types of fees.\n- Each element has a field name [additionalValue](#productfeaturetypedoc).  This is a generic field with contents that will vary based on the type of object being described. The contents of this field for the ADDITIONAL_CARDS feature is the number of cards allowed while the contents of this field for the MAX_LIMIT constraint would be the maximum credit limit allowed for the product.\n- An element in these arrays of the same type may appear more than once. For instance, a product may offer two separate loyalty programs that the customer can select from. A fixed term mortgage may have different rates for different term lengths.\n- An element in these arrays may contain an additionalInfo and additionalInfoUri field. The additionalInfo field is used to provide displayable text clarifying the purpose of the element in some way when the product is presented to a customer. The additionalInfoUri provides a link to externally hosted information specifically relevant to that feature of the product.\n- Depending on the type of data being represented there may be additional specific fields.\n\n#### URIs To More Information\n\nAs the complexities and nuances of a financial product can not easily be fully expressed in a data structure without a high degree of complexity it is necessary to provide additional reference information that a potential customer can access so that they are fully informed of the features and implications of the product. The payloads for product reference therefore contain numerous fields that are provided to allow the product holder to describe the product more fully using a web page hosted on their online channels.\n\nThese URIs do not need to all link to different pages. If desired, they can all link to a single hosted page and use difference HTML anchors to focus on a specific topic such as eligibility or fees.\n\n#### Linkage To Accounts\nFrom the moment that a customer applies for a product and an account is created the account and the product that spawned it will diverge.  Rates and features of the product may change and a discount may be negotiated for the account.\n\nFor this reason, while productCategory is a common field between accounts and products, there is no specific ID that can be used to link an account to a product within the regime.\n\nSimilarly, many of the fields and objects in the product payload will appear in the account detail payload but the structures and semantics are not identical as one refers to a product that can potentially be originated and one refers to an account that actual has been instantiated and created along with the associated decisions inherent in that process.\n\n#### Dates\nIt is expected that data consumers needing this data will call relatively frequently to ensure the data they have is representative of the current offering from a bank.  To minimise the volume and frequency of these calls the ability to set a lastUpdated field with the date and time of the last update to this product is included.  A call for a list of products can then be filtered to only return products that have been updated since the last time that data was obtained using the updated-since query parameter.\n\nIn addition, the concept of effective date and time has also been included.  This allows for a product to be marked for obsolescence, or introduction, from a certain time without the need for an update to show that a product has been changed.  The inclusion of these dates also removes the need to represent deleted products in the payload.  Products that are no long offered can be marked not effective for a few weeks before they are then removed from the product set as an option entirely."
									},
									"response": []
								},
								{
									"name": "Get Products - Other pages",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"        // Schema payload check\r",
													"        ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"            const valid = ajv.validate(\"ResponseBankingProductListV2\", jsonData)\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };\r",
													"            pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"        }); \r",
													"\r",
													"\r",
													"\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"// var pageSize = pm.variables.get(\"pageSizeProducts\");\r",
													"// if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"//     pm.variables.set(\"pageSize\", pageSize);\r",
													"// }\r",
													"\r",
													"// var totalPages = Math.ceil(pm.variables.get(\"totalProductPages\"), 1);\r",
													"// if(!pageArray || pageArray.length == 0) {\r",
													"\r",
													"// }\r",
													"\r",
													"// if(!pageArray) {\r",
													"//     var pageArray = pm.variables.get(\"pageArray\");\r",
													"//     if (pageArray.length == 0) {\r",
													"//         for(var i = 1; i <= totalPages; i++)\r",
													"//             pageArray.push(i);\r",
													"//         pm.variables.set(\"currentPage\", 1);\r",
													"//     }\r",
													"//     else {\r",
													"//         let currentPage = pageArray.shift();\r",
													"//         if (currentPage == null ) {currentPage = 1} else {\r",
													"//             pm.variables.set(\"currentPage\", currentPage);\r",
													"//     }\r",
													"//     pm.variables.set(\"pageArray\", pageArray);\r",
													"//     }\r",
													"// } else {\r",
													"//     pm.variables.set(\"currentPage\", 1);\r",
													"// }\r",
													"\r",
													"\r",
													"var pageSize = pm.variables.get(\"pageSizeProducts\");\r",
													"if (pageSize == null) {pm.variables.set(\"pageSize\", 25);} else {\r",
													"    pm.variables.set(\"pageSize\", pageSize);\r",
													"}\r",
													"\r",
													"// The totalAccountsPages is set in the previous \"******** - First page\" request\r",
													"var totalPages = Math.ceil(pm.variables.get(\"totalProductPages\"),1);\r",
													"// pageArray is an array of consequtive numbers\r",
													"var pageArray = pm.variables.get(\"pageArray\");\r",
													"\r",
													"if(!pageArray || pageArray.length == 0) {\r",
													"    for(var i = 1; i <= totalPages; i++)\r",
													"        pageArray.push(i);\r",
													"}\r",
													"\r",
													"let currentPage = pageArray.shift();\r",
													"if (currentPage == null) {pm.variables.set(\"currentPage\", 1)} else {\r",
													"    pm.variables.set(\"currentPage\", currentPage);\r",
													"}\r",
													"pm.variables.set(\"pageArray\", pageArray);\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "3",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "3",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{unauthenticatedResourceUrl}}/banking/products?effective={{effective}}&product-category={{productCategory}}&page={{currentPage}}&page-size=1",
											"host": [
												"{{unauthenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"products"
											],
											"query": [
												{
													"key": "effective",
													"value": "{{effective}}"
												},
												{
													"key": "product-category",
													"value": "{{productCategory}}"
												},
												{
													"key": "page",
													"value": "{{currentPage}}"
												},
												{
													"key": "page-size",
													"value": "1"
												}
											]
										},
										"description": "Obtain a list of products that are currently openly offered to the market\n\nNote that the results returned by this end point are expected to be ordered according to updated-since\n\n### Conventions\nIn the product reference payloads there are a number of recurring conventions that are explained here, in one place.\n\n#### Arrays Of Features\n\nIn the product detail payload there are a number of arrays articulating generic features, constraints, prices, etc. The intent of these arrays is as follows:\n\n- Each element in an array has the same structure so that clients can reliably interpret the payloads\n- Each element as a type element that is an enumeration of the specific aspect of a product being described, such as types of fees.\n- Each element has a field name [additionalValue](#productfeaturetypedoc).  This is a generic field with contents that will vary based on the type of object being described. The contents of this field for the ADDITIONAL_CARDS feature is the number of cards allowed while the contents of this field for the MAX_LIMIT constraint would be the maximum credit limit allowed for the product.\n- An element in these arrays of the same type may appear more than once. For instance, a product may offer two separate loyalty programs that the customer can select from. A fixed term mortgage may have different rates for different term lengths.\n- An element in these arrays may contain an additionalInfo and additionalInfoUri field. The additionalInfo field is used to provide displayable text clarifying the purpose of the element in some way when the product is presented to a customer. The additionalInfoUri provides a link to externally hosted information specifically relevant to that feature of the product.\n- Depending on the type of data being represented there may be additional specific fields.\n\n#### URIs To More Information\n\nAs the complexities and nuances of a financial product can not easily be fully expressed in a data structure without a high degree of complexity it is necessary to provide additional reference information that a potential customer can access so that they are fully informed of the features and implications of the product. The payloads for product reference therefore contain numerous fields that are provided to allow the product holder to describe the product more fully using a web page hosted on their online channels.\n\nThese URIs do not need to all link to different pages. If desired, they can all link to a single hosted page and use difference HTML anchors to focus on a specific topic such as eligibility or fees.\n\n#### Linkage To Accounts\nFrom the moment that a customer applies for a product and an account is created the account and the product that spawned it will diverge.  Rates and features of the product may change and a discount may be negotiated for the account.\n\nFor this reason, while productCategory is a common field between accounts and products, there is no specific ID that can be used to link an account to a product within the regime.\n\nSimilarly, many of the fields and objects in the product payload will appear in the account detail payload but the structures and semantics are not identical as one refers to a product that can potentially be originated and one refers to an account that actual has been instantiated and created along with the associated decisions inherent in that process.\n\n#### Dates\nIt is expected that data consumers needing this data will call relatively frequently to ensure the data they have is representative of the current offering from a bank.  To minimise the volume and frequency of these calls the ability to set a lastUpdated field with the date and time of the last update to this product is included.  A call for a list of products can then be filtered to only return products that have been updated since the last time that data was obtained using the updated-since query parameter.\n\nIn addition, the concept of effective date and time has also been included.  This allows for a product to be marked for obsolescence, or introduction, from a certain time without the need for an update to show that a product has been changed.  The inclusion of these dates also removes the need to represent deleted products in the payload.  Products that are no long offered can be marked not effective for a few weeks before they are then removed from the product set as an option entirely."
									},
									"response": []
								},
								{
									"name": "Get Product Detail",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"// if not id is provided we skip these tests\r",
													"if (pm.iterationData.get(\"testProductId1\") != \"\")\r",
													"{\r",
													"    // Parse the response body\r",
													"    var jsonData;\r",
													"    try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"\r",
													"    // Schema payload check\r",
													"    ((pm.response.code == 200 && pm.collectionVariables.get(\"requestShouldReturnError\") == false) ? pm.test : pm.test.skip)('Response payload conforms to standards schema', function() {\r",
													"        const valid = ajv.validate(\"ResponseBankingProductByIdV4\", jsonData)\r",
													"        if (!valid){\r",
													"        ajv.errors.forEach(element => {\r",
													"            console.log(JSON.stringify(element));\r",
													"            });\r",
													"        };\r",
													"        pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;\r",
													"    }); \r",
													"}\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "4",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "4",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{unauthenticatedResourceUrl}}/banking/products/:productId",
											"host": [
												"{{unauthenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"products",
												":productId"
											],
											"variable": [
												{
													"key": "productId",
													"value": "{{bankingProductId}}"
												}
											]
										},
										"description": "Obtain detailed information on a single product offered openly to the market"
									},
									"response": []
								},
								{
									"name": "Get Product Detail - Invalid Product",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"\r",
													"        // Parse the response body\r",
													"        var jsonData;\r",
													"        try { jsonData = pm.response.json(); } catch(e) {}\r",
													"\r",
													"\r",
													"        ((pm.response.code == 404) ? pm.test : pm.test.skip)('Correct error code in error object', function() {\r",
													"            const valid = ajv.validate(\"ResponseErrorListV2\", jsonData);\r",
													"            let errCode = jsonData.errors[0].code;\r",
													"            pm.expect(errCode).to.oneOf( [\"urn:au-cds:error:cds-all:Resource/Invalid\", \"urn:au-cds:error:cds-all:Resource/Unavailable\"]);\r",
													"            if (!valid){\r",
													"            ajv.errors.forEach(element => {\r",
													"                console.log(JSON.stringify(element));\r",
													"                });\r",
													"            };         \r",
													"        });  \r",
													"\r",
													"\r",
													"\r",
													"\r",
													"\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "x-v",
												"value": "4",
												"description": "Version of the API end point requested by the client. Must be set to a positive integer. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If the value of [x-min-v](#request-headers) is equal to or higher than the value of [x-v](#request-headers) then the [x-min-v](#request-headers) header should be treated as absent. If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable. See [HTTP Headers](#request-headers)"
											},
											{
												"key": "x-min-v",
												"value": "4",
												"description": "Minimum version of the API end point requested by the client. Must be set to a positive integer if provided. The data holder should respond with the highest supported version between [x-min-v](#request-headers) and [x-v](#request-headers). If all versions requested are not supported then the data holder should respond with a 406 Not Acceptable."
											},
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{unauthenticatedResourceUrl}}/banking/products/:productId",
											"host": [
												"{{unauthenticatedResourceUrl}}"
											],
											"path": [
												"banking",
												"products",
												":productId"
											],
											"variable": [
												{
													"key": "productId",
													"value": "{{invalidID}}"
												}
											]
										},
										"description": "Obtain detailed information on a single product offered openly to the market"
									},
									"response": []
								}
							]
						}
					]
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"var moment = require('moment');",
							"var dateFormat = \"ddd, DD MMM yyyy hh:mm:ss [GMT]\";",
							"var fapiDate = moment().format(dateFormat);",
							"pm.collectionVariables.set(\"x-fapi-auth-date\", fapiDate);",
							"",
							"",
							"",
							"",
							"",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Specialised Tests",
			"item": []
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"",
					"",
					"if (pm.iterationData.get(\"baseUrl\") != undefined)",
					"    pm.collectionVariables.set(\"baseUrl\", pm.iterationData.get(\"baseUrl\"));",
					"",
					"if (pm.iterationData.get(\"authenticatedResourceUrl\") != undefined)",
					"    pm.collectionVariables.set(\"authenticatedResourceUrl\", pm.iterationData.get(\"authenticatedResourceUrl\"));",
					"",
					"if (pm.iterationData.get(\"unauthenticatedResourceUrl\") != undefined)",
					"    pm.collectionVariables.set(\"unauthenticatedResourceUrl\", pm.iterationData.get(\"unauthenticatedResourceUrl\"));",
					"",
					"if (pm.iterationData.get(\"authenticatedCommonUrl\") != undefined)",
					"    pm.collectionVariables.set(\"authenticatedCommonUrl\", pm.iterationData.get(\"authenticatedCommonUrl\"));",
					"if (pm.iterationData.get(\"unauthenticatedCommonUrl\") != undefined)",
					"    pm.collectionVariables.set(\"unauthenticatedCommonUrl\", pm.iterationData.get(\"unauthenticatedCommonUrl\"));",
					"",
					"if (pm.iterationData.get(\"version\") != undefined)",
					"    pm.collectionVariables.set(\"version\", pm.iterationData.get(\"version\"));    ",
					"",
					"",
					"if (pm.iterationData.get(\"accessToken\") != undefined)",
					"    pm.collectionVariables.set(\"accessToken\", pm.iterationData.get(\"accessToken\"));",
					"",
					"if (pm.iterationData.get(\"cdsClientHeader\") != undefined)",
					"    pm.collectionVariables.set(\"cdsClientHeader\", pm.iterationData.get(\"cdsClientHeader\"));",
					"",
					"if (pm.iterationData.get(\"bankingAccountId1\") != undefined)",
					"    pm.collectionVariables.set(\"bankingAccountId1\", pm.iterationData.get(\"bankingAccountId1\"));",
					"",
					"if (pm.iterationData.get(\"bankingAccountId2\") != undefined)",
					"    pm.collectionVariables.set(\"bankingAccountId2\", pm.iterationData.get(\"bankingAccountId2\"));",
					"",
					"if (pm.iterationData.get(\"bankingProductId\") != undefined)",
					"    pm.collectionVariables.set(\"bankingProductId\", pm.iterationData.get(\"bankingProductId\")); ",
					"",
					"if (pm.iterationData.get(\"bankingPayeeId\") != undefined)",
					"    pm.collectionVariables.set(\"bankingPayeeId\", pm.iterationData.get(\"bankingPayeeId\")); ",
					"",
					"if (pm.iterationData.get(\"bankingTransactionId1\") != undefined)",
					"    pm.collectionVariables.set(\"bankingTransactionId1\", pm.iterationData.get(\"bankingTransactionId1\"));    ",
					"",
					"if (pm.iterationData.get(\"pageSizeBulkDirectDebits\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizeBulkDirectDebits\", pm.iterationData.get(\"pageSizeBulkDirectDebits\"));",
					"",
					"if (pm.iterationData.get(\"pageSizeBulkBalances\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizeBulkBalances\", pm.iterationData.get(\"pageSizeBulkBalances\")); ",
					"",
					"if (pm.iterationData.get(\"pageSizeTransactions\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizeTransactions\", pm.iterationData.get(\"pageSizeTransactions\")); ",
					"",
					"if (pm.iterationData.get(\"pageSizeAccountTransactions\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizeAccountTransactions\", pm.iterationData.get(\"pageSizeAccountTransactions\"));   ",
					"",
					"if (pm.iterationData.get(\"pageSizePayees\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizePayees\", pm.iterationData.get(\"pageSizePayees\"));",
					"",
					"if (pm.iterationData.get(\"pageSizeScheduledPayments\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizeScheduledPayments\", pm.iterationData.get(\"pageSizeScheduledPayments\")); ",
					"",
					"if (pm.iterationData.get(\"pageSizeProducts\") != undefined)",
					"    pm.collectionVariables.set(\"pageSizeProducts\", pm.iterationData.get(\"pageSizeProducts\")); ",
					"",
					"if (pm.iterationData.get(\"pageSize\") != undefined)",
					"    pm.collectionVariables.set(\"pageSize\", pm.iterationData.get(\"pageSize\"));           ",
					"",
					"",
					"// Set some time relevant time stamps",
					"var timeCurrent = new Date();",
					"var moment = require(\"moment\")",
					"",
					"// newest time defaults to today",
					"if (pm.iterationData.get(\"newestTime\") != undefined)",
					"    pm.collectionVariables.set(\"newestTime\", pm.iterationData.get(\"newestTime\"));",
					"else",
					"    pm.collectionVariables.set(\"newestTime\", moment().format((\"YYYY-MM-DDTHH:mm:ss.sssZ\")));",
					"",
					"// oldest time defaults to 90 days ago ",
					"if (pm.iterationData.get(\"oldestTime\") != undefined)",
					"    pm.collectionVariables.set(\"oldestTime\", pm.iterationData.get(\"oldestTime\"));",
					"else",
					"    pm.collectionVariables.set(\"oldestTime\", moment().subtract(90, \"days\").format((\"YYYY-MM-DDTHH:mm:ss.sssZ\")));",
					"",
					"// Initialise only once",
					"if (pm.variables.get(\"intitalised\") == 0 || pm.variables.get(\"intitalised\") == null) {",
					"let Ajv = require('ajv');",
					"ajv = new Ajv({logger: console});",
					"    pm.variables.set(\"intitalised\",1);",
					"",
					"    // Set some time relevant time stamps",
					"    console.log(\"Pre-request: Setting common variables\")",
					"    var timeCurrent = new Date();",
					"",
					"",
					"    // setting the base url for schema files",
					"    var version = pm.collectionVariables.get(\"version\");",
					"    var branch = \"main/\";",
					"    var schemaBaseUrl = \"https://raw.githubusercontent.com/ConsumerDataStandardsAustralia/dsb-schema-tools/\" + branch;",
					"",
					"    //var schemaBaseUrl = \"http://localhost:8080/\";",
					"",
					"    var urlBankingSchemaValidationFileDirectory = schemaBaseUrl + version + \"/postman/postman-validation-banking-\" + version + \".json\";",
					"",
					"    pm.sendRequest(urlBankingSchemaValidationFileDirectory, (error, responseBanking) => {",
					"        console.log(\"Reading schema files for banking....\"); ",
					"        if (error) {",
					"            console.log('Getting schema returned: ' + error);",
					"        } else {",
					"            ",
					"            try { ",
					"                let bankingSchemaCount = 0;",
					"                let bankingSchemaAdded = 0;",
					"                console.log(\"RESPONSE: \" + responseBanking.json());",
					"                let schemaBanking = responseBanking.json();",
					"                //let schemaBanking = pm.collectionVariables.get(\"GlobalBankingSchema\");  ",
					"                for (var key in schemaBanking) {",
					"                    bankingSchemaCount++;",
					"                    if (schemaBanking.hasOwnProperty(key)) {",
					"                        schemaBanking[key].$id = key;",
					"                        try {",
					"                            ajv.addSchema(schemaBanking[key]);",
					"                            bankingSchemaAdded++;",
					"                        }",
					"                        catch(ex){",
					"                            console.log(\"Exception in \" + key + \" : \" + JSON.stringify(ex));",
					"                        }",
					"                        ",
					"                    }",
					"                }",
					"                console.log(\"Banking schema contains \" + bankingSchemaCount + \" entries\") ;",
					"                console.log(\"Added \" + bankingSchemaAdded + \" schemas from Banking\"); ",
					"                pm.collectionVariables.set(\"GlobalBankingSchema\", schemaBanking);  ",
					"            } catch(e) {",
					"                console.log(\"Exception :\" + JSON.stringify(e));",
					"            }",
					"                  ",
					"        }",
					"    }); ",
					"  }",
					"",
					"",
					"pm.collectionVariables.set(\"notPaginatedRequests\", ",
					"[\"Get Account Balance\", ",
					"\"Get Transaction Detail\",",
					"\"Get Account Detail\",",
					"\"Get Payee Detail\",",
					"\"Get Product Detail\"",
					"]);",
					"",
					"// This is used for pagination to determine if this is the first page, last page, middle page or",
					"// a single page response",
					"utils = {",
					"    whichPage: function (currPage, totalPages, totalRecords, pageSize ) {",
					"        if (pageSize == null) {pageSize = 25};",
					"        ",
					"        if (currPage == null) {currPage = 1};",
					"",
					"        if (totalPages <= 1 ) return 0;",
					"",
					"        if (totalRecords <= pageSize || (totalRecords > pageSize &&  currPage == 1)) return 1;   ",
					"",
					"        if (currPage > 1 && currPage < totalPages ){ return 2}",
					"",
					"        if (currPage == totalPages ){ return 3}",
					"    },",
					"",
					"};",
					"",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"",
					"        // Parse the response body",
					"        var jsonData;",
					"        try { jsonData = pm.response.json(); } catch(e) {}",
					"",
					"        var invalidQueryParameters = false;",
					"        var invalidXvHeaderParameters = false;",
					"        var missingHeaderParameters = false;",
					"        var pageSizeTooLarge = false;",
					"        var oldestTime;",
					"        var newestTime;",
					"        var minAmount;",
					"        var maxAmount;",
					"        var isOwned;",
					"        var productCategory;",
					"        var payeeType;",
					"        var requestMinVersionNumber;",
					"        var requestVersionNumber;",
					"        var pageSize;",
					"",
					"        pm.collectionVariables.set(\"badRequest\", false);",
					"",
					"        oldestTime = pm.request.url.query.get(\"oldest-time\")",
					"        newestTime = pm.request.url.query.get(\"newest-time\")",
					"",
					"        var requestVersion = pm.request.headers.get(\"x-v\");",
					"        if (requestVersion != undefined)",
					"            requestVersionNumber = Number(pm.request.headers.get(\"x-v\"));",
					"        else {",
					"            /// x-v is a required header",
					"            missingHeaderParameters = true;",
					"        }",
					"",
					"        var requestMinVersion = pm.request.headers.get(\"x-min-v\");",
					"        // x-min-v is not a mandatory header",
					"        if (requestMinVersion != undefined) {",
					"            requestMinVersionNumber = Number(pm.request.headers.get(\"x-min-v\"));",
					"        }",
					"        ",
					"        // if we have an invalid x-v or x-min-v value",
					"        if ((requestVersionNumber != undefined && (!(Number.isSafeInteger(requestVersionNumber) && requestVersionNumber > 0)))",
					"            || (requestMinVersion != undefined && ( !(Number.isSafeInteger(requestMinVersionNumber) && requestMinVersionNumber > 0)",
					"        )))",
					"            invalidXvHeaderParameters = !(Number.isSafeInteger(requestVersionNumber) && requestVersionNumber > 0);",
					"",
					"        // check if the dates are valid",
					"        minAmount = pm.request.url.query.get(\"min-amount\")",
					"        maxAmount = pm.request.url.query.get(\"max-amount\")",
					"        isOwned = pm.request.url.query.get(\"is-owned\")",
					"        productCategory = pm.request.url.query.get(\"product-category\") ",
					"        payeeType = pm.request.url.query.get(\"type\")",
					"        xv = pm.request.headers.get(\"x-v\"); ",
					"        xvmin = pm.request.headers.get(\"x-v\"); ",
					"",
					"",
					"        var validProductCategories = [\"BUSINESS_LOANS\", \"BUSINESS_LOANS\", \"LEASES\", \"MARGIN_LOANS\", \"OVERDRAFTS\", \"PERS_LOANS\", \"REGULATED_TRUST_ACCOUNTS\", ",
					"            \"RESIDENTIAL_MORTGAGES\",\"TERM_DEPOSITS\",\"TRADE_FINANCE\", \"TRANS_AND_SAVINGS_ACCOUNTS\", \"TRAVEL_CARDS\", \"CRED_AND_CHRG_CARDS\", \"OVERDRAFTS\"]",
					"",
					"        var validPayeeTypes = [\"ALL\", \"BILLER\", \"DIGITAL_WALLET\", \"DOMESTIC\", \"INTERNATIONAL\"]",
					"",
					"",
					"        // test if this request should have returned an error base on query parameters ",
					"        // validate the oldest-time against RFC3339",
					"        if ((pm.request.url.query.get(\"oldest-time\") != undefined ",
					"            && (oldestTime.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:.\\+)?[A-Z]?(?:[+.-](?:\\d{2,5}:\\d{2,5}|\\d{2,5}[A-Z,+]))(?:\\d{2}?:?\\d{2})?$/) == null))) {",
					"            console.log(\"Request should return error based on oldest-time qry parameters\")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid oldest-time parameters: \" + pm.request.url.query.get(\"oldest-time\"), function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }                ",
					"        // validate the newest-time against RFC3339",
					"        if ((pm.request.url.query.get(\"newest-time\") != undefined ",
					"            && (newestTime.match(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:.\\+)?[A-Z]?(?:[+.-](?:\\d{2,5}:\\d{2,5}|\\d{2,5}[A-Z,+]))(?:\\d{2}?:?\\d{2})?$/) == null))) {",
					"            console.log(\"Request should return error based on newest-time qry parameters\")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid newest-time parameters: \" + pm.request.url.query.get(\"newest-time\"), function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }",
					"        if (pm.request.url.query.get(\"min-amount\") != undefined && isNaN(minAmount)) {",
					"            console.log(\"Request should return error based on qry parameters\")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid min-amount parameters: \" + minAmount, function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }",
					"        if (pm.request.url.query.get(\"max-amount\") != undefined && isNaN(maxAmount))  {",
					"            console.log(\"Request should return error based on qry parameters\")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid max-amount parameters: \" + maxAmount, function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }",
					"        if (pm.request.url.query.get(\"is-owned\") != undefined && (isOwned != \"true\" && isOwned != \"false\"))  {",
					"            console.log(\"Request should return error based on is-owned parameters \")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid is-owned parameters: \" + isOwned, function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }",
					"        if ((pm.request.url.query.get(\"product-category\") != undefined && validProductCategories.indexOf(productCategory)< 0)) {",
					"            console.log(\"Request should return error based on invalid product-category parameter\")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid product-category parameter: \" + productCategory, function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }   ",
					"        if ((pm.request.url.query.get(\"type\") != undefined && validPayeeTypes.indexOf(payeeType)< 0)) {",
					"            console.log(\"Request should return error based on invalid type parameter\")",
					"            invalidQueryParameters = true;",
					"            // check thatwe get a 400 error",
					"            pm.test(\"Should get a 400 based on invalid type parameter: \" + payeeType, function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"        }                       ",
					"        if (pm.request.url.query.get(\"page-size\") != undefined)  {",
					"            pageSizeNumber = Number(pm.request.url.query.get(\"page-size\"));",
					"            if (!(Number.isSafeInteger(pageSizeNumber) && pageSizeNumber > 0)) {",
					"                // the page-size parameter is not a positive number",
					"                console.log(\"Request should return error based on page-size parameters \")",
					"                invalidQueryParameters = true;",
					"                // check thatwe get a 400 error",
					"                pm.test(\"Should get a 400 based on invalid page-size parameters\", function () {",
					"                    pm.response.to.have.status(400);",
					"                });",
					"            } else {",
					"                if (pageSizeNumber > 1000) {",
					"                  console.log(\"Page size is too large\")",
					"                    pageSizeTooLarge = true;                 ",
					"                }",
					"            }",
					"",
					"        }",
					"",
					"        // capture the case where a 400 should be returned for query parameter errors",
					"        if (invalidQueryParameters == true) {",
					"            // now test for error message",
					"            pm.test(\"Invalid query parameter returns 'urn:au-cds:error:cds-all:Field/Invalid' error\", function () {",
					"                var allErrors = jsonData.errors;",
					"                pm.expect(allErrors.find(err => (err.code == \"urn:au-cds:error:cds-all:Field/Invalid\" && err.title == \"Invalid Field\"))).to.not.be.undefined",
					"",
					"            });",
					"        }",
					"        // capture the case where a 400 should be returned for header parameter errors",
					"        if (invalidXvHeaderParameters == true) {",
					"            pm.test(\"Should get a 400 based on invalid header parameter\", function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"            // now test for error message",
					"            pm.test(\"Invalid header returns 'urn:au-cds:error:cds-all:Header/InvalidVersion' error code and 'Invalid Version' title\", function () {",
					"                var allErrors = jsonData.errors;",
					"                pm.expect(allErrors.find(err => (err.code == \"urn:au-cds:error:cds-all:Header/InvalidVersion\" && err.title == \"Invalid Version\"))).to.not.be.undefined",
					"",
					"            });",
					"        }",
					"",
					"        // capture the case where a 400 should be returned for header parameter errors",
					"        if (missingHeaderParameters == true) {",
					"            pm.test(\"Should get a 400 based on missing header parameter\", function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"            // now test for error message",
					"            pm.test(\"Missing header returns 'urn:au-cds:error:cds-all:Header/Missing' error code and 'Missing Required Header' title\", function () {",
					"                var allErrors = jsonData.errors;",
					"                pm.expect(allErrors.find(err => (err.code == \"urn:au-cds:error:cds-all:Header/Missing\" && err.title == \"Missing Required Header\"))).to.not.be.undefined",
					"",
					"            });",
					"        }",
					"",
					"        // capture the case where a 400 should be returned for header parameter errors",
					"        if (pageSizeTooLarge == true) {",
					"            pm.test(\"Should get a 400 based on page-size tool large\", function () {",
					"                pm.response.to.have.status(400);",
					"            });",
					"            // now test for error message",
					"            pm.test(\"Too large page-size 'urn:au-cds:error:cds-all:Field/InvalidPageSize' error code and 'Invalid Page Size' title\", function () {",
					"                var allErrors = jsonData.errors;",
					"                pm.expect(allErrors.find(err => (err.code == \"urn:au-cds:error:cds-all:Field/InvalidPageSize\" && err.title == \"Invalid Page Size\"))).to.not.be.undefined",
					"",
					"            });",
					"        }",
					"",
					"        // HTTP Response and headers, test content-type header of all non 500 returns",
					"        ((pm.response.code == 200 || pm.response.code == 400 || pm.response.code == 422 || pm.response.code == 406 || pm.response.code == 404) ? pm.test : pm.test.skip)(\"Content-Type header specifies json\", function () {",
					"            pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
					"        });",
					"",
					"        // 400 error are based on request data ONLY",
					"        ((invalidQueryParameters == false && invalidXvHeaderParameters == false && missingHeaderParameters == false && pageSizeTooLarge == false) ? pm.test : pm.test.skip)('Request is valid. This should not return a 400', function() {",
					"                pm.response.to.not.have.status(400);",
					"        });  ",
					"",
					"        // if this returns a specified error, and in cases where 400 the error should occur, then validate the error object",
					"        (((pm.response.code == 400 && (invalidQueryParameters == true || invalidXvHeaderParameters == true || missingHeaderParameters == true || pageSizeTooLarge == true)) || pm.response.code == 422 || pm.response.code == 406 || pm.response.code == 404 ) ? pm.test : pm.test.skip)('Error payload conforms to standards schema', function() {",
					"                const valid = ajv.validate(\"ResponseErrorListV2\", jsonData);",
					"                if (!valid){",
					"                ajv.errors.forEach(element => {",
					"                    console.log(JSON.stringify(element));",
					"                    });",
					"                };",
					"                pm.expect(valid, JSON.stringify(ajv.errors)).to.be.true;         ",
					"        });  ",
					"        ",
					"        // only do these tests if we get a 200 and we SHOULD get a 200",
					"        if ((invalidQueryParameters == false && invalidXvHeaderParameters == false && missingHeaderParameters == false && pageSizeTooLarge == false) && pm.response.code == 200){",
					"",
					"            pm.test(\"x-v header is present and has correct value\", function () {",
					"                    var responseVersion = pm.request.headers.get(\"x-v\");",
					"                    var responseVersionNumber = Number(pm.response.headers.get(\"x-v\"));",
					"                    var responseXvIsPositiveInteger = Number.isSafeInteger(responseVersionNumber) && responseVersionNumber > 0;",
					"                    pm.expect(responseVersion).not.null;",
					"                    pm.expect(responseXvIsPositiveInteger).to.be.true;",
					"            });",
					"",
					"            var paginatedRequests = pm.collectionVariables.get(\"notPaginatedRequests\");",
					"            var isPaginated = paginatedRequests.find(x => x == pm.info.requestName) == undefined;",
					"            // Pagination tests",
					"            if (isPaginated == true) {",
					"                ((pm.response.code == 200) ? pm.test : pm.test.skip)(\"Pagination fields in meta data are present\", function () {",
					"                    pm.expect(jsonData.meta.totalPages >= 0);",
					"                    pm.expect(jsonData.meta.totalRecords >= 0);",
					"                });",
					"                var currentPage = pm.variables.get(\"currentPage\");",
					"                var currentPageSize = pm.variables.get(\"pageSize\");",
					"                var currentTotalPages = jsonData?.meta?.totalPages;",
					"                var currentTotalRecords = jsonData?.meta?.totalRecords;",
					"",
					"                 ((pm.response.code == 200) ? pm.test : pm.test.skip)(\"Pagination fields have required properties\", function () {",
					"                    pm.expect(jsonData.links).to.have.property(\"self\");            ",
					"                    if (currentPage > 1 && currentTotalPages > 1) pm.expect(jsonData.links).to.have.property(\"prev\");",
					"                    if (currentPage > 1 && currentTotalPages > 1) pm.expect(jsonData.links).to.have.property(\"first\");",
					"                    if (currentPage < currentTotalPages) {pm.expect(jsonData.links).to.have.property(\"next\");}  ",
					"                    if (currentPage < currentTotalPages) {pm.expect(jsonData.links).to.have.property(\"last\");} ",
					"                });",
					"            }",
					"",
					"        }",
					"",
					"        if (invalidQueryParameters == true || invalidXvHeaderParameters == true || missingHeaderParameters == true || pageSizeTooLarge == true || pm.response.code > 499) {",
					"            pm.collectionVariables.set(\"badRequest\", true);",
					"        }",
					"",
					"",
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "version",
			"value": "1.29.1"
		},
		{
			"key": "x-fapi-auth-date",
			"value": ""
		},
		{
			"key": "productCategory",
			"value": ""
		},
		{
			"key": "effective",
			"value": ""
		},
		{
			"key": "page",
			"value": "1"
		},
		{
			"key": "pageSize",
			"value": "25",
			"type": "string"
		},
		{
			"key": "isOwned",
			"value": "true",
			"type": "string"
		},
		{
			"key": "minAmount",
			"value": "",
			"type": "string"
		},
		{
			"key": "maxAmount",
			"value": "",
			"type": "string"
		},
		{
			"key": "payeeType",
			"value": "",
			"type": "string"
		},
		{
			"key": "effectiveDate",
			"value": "",
			"type": "string"
		},
		{
			"key": "updatedSince",
			"value": "",
			"type": "string"
		},
		{
			"key": "productBrand",
			"value": "",
			"type": "string"
		},
		{
			"key": "pageArray",
			"value": ""
		},
		{
			"key": "bankingAccountId1",
			"value": ""
		},
		{
			"key": "newestTime",
			"value": ""
		},
		{
			"key": "oldestTime",
			"value": ""
		},
		{
			"key": "notPaginatedRequests",
			"value": ""
		},
		{
			"key": "GlobalBankingSchema",
			"value": ""
		},
		{
			"key": "badRequest",
			"value": ""
		}
	]
}